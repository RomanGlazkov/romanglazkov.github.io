/*! Commit hash: 73f80c5 */
(()=>{var e={47:(e,t)=>{"use strict";var n;n={value:true};t["default"]=r;n=i;function r(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new Map;var i=n.get(e);if(i)return i;if(Array.isArray(e)){var o=[];n.set(e,o);for(var a=0;a<e.length;a++){o[a]=r(e[a],t,n)}return o}if(e instanceof Date)return new Date(e.valueOf());if(!(e instanceof Object))return e;var s={};n.set(e,s);var c=Object.keys(e);for(var u=0;u<c.length;u++){var f=t?t(c[u]):c[u];s[f]=r(e[c[u]],t,n)}return s}function i(e){return function(t){return r(t,e)}}r.formatKeys=i},63:e=>{"use strict";e.exports=function e(t,n){n=n.split(":")[0];t=+t;if(!t)return false;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return false}return t!==0}},160:(e,t,n)=>{"use strict";var r=n(63),i=n(992),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,u=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,f=/^[a-zA-Z]:/;function l(e){return(e?e:"").toString().replace(o,"")}var d=[["#","hash"],["?","query"],function e(t,n){return g(n.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",undefined,1,1],[/:(\d*)$/,"port",undefined,1],[NaN,"hostname",undefined,1,1]];var h={hash:1,query:1};function p(e){var t;if(typeof window!=="undefined")t=window;else if(typeof n.g!=="undefined")t=n.g;else if(typeof self!=="undefined")t=self;else t={};var r=t.location||{};e=e||r;var i={},o=typeof e,a;if("blob:"===e.protocol){i=new m(unescape(e.pathname),{})}else if("string"===o){i=new m(e,{});for(a in h)delete i[a]}else if("object"===o){for(a in e){if(a in h)continue;i[a]=e[a]}if(i.slashes===undefined){i.slashes=s.test(e.href)}}return i}function g(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function v(e,t){e=l(e);e=e.replace(a,"");t=t||{};var n=u.exec(e);var r=n[1]?n[1].toLowerCase():"";var i=!!n[2];var o=!!n[3];var s=0;var c;if(i){if(o){c=n[2]+n[3]+n[4];s=n[2].length+n[3].length}else{c=n[2]+n[4];s=n[2].length}}else{if(o){c=n[3]+n[4];s=n[3].length}else{c=n[4]}}if(r==="file:"){if(s>=2){c=c.slice(2)}}else if(g(r)){c=n[4]}else if(r){if(i){c=c.slice(2)}}else if(s>=2&&g(t.protocol)){c=n[4]}return{protocol:r,slashes:i||g(r),slashesCount:s,rest:c}}function b(e,t){if(e==="")return t;var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=false,a=0;while(r--){if(n[r]==="."){n.splice(r,1)}else if(n[r]===".."){n.splice(r,1);a++}else if(a){if(r===0)o=true;n.splice(r,1);a--}}if(o)n.unshift("");if(i==="."||i==="..")n.push("");return n.join("/")}function m(e,t,n){e=l(e);e=e.replace(a,"");if(!(this instanceof m)){return new m(e,t,n)}var o,s,c,u,h,w,y=d.slice(),_=typeof t,S=this,k=0;if("object"!==_&&"string"!==_){n=t;t=null}if(n&&"function"!==typeof n)n=i.parse;t=p(t);s=v(e||"",t);o=!s.protocol&&!s.slashes;S.slashes=s.slashes||o&&t.slashes;S.protocol=s.protocol||t.protocol||"";e=s.rest;if(s.protocol==="file:"&&(s.slashesCount!==2||f.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!g(S.protocol))){y[3]=[/(.*)/,"pathname"]}for(;k<y.length;k++){u=y[k];if(typeof u==="function"){e=u(e,S);continue}c=u[0];w=u[1];if(c!==c){S[w]=e}else if("string"===typeof c){h=c==="@"?e.lastIndexOf(c):e.indexOf(c);if(~h){if("number"===typeof u[2]){S[w]=e.slice(0,h);e=e.slice(h+u[2])}else{S[w]=e.slice(h);e=e.slice(0,h)}}}else if(h=c.exec(e)){S[w]=h[1];e=e.slice(0,h.index)}S[w]=S[w]||(o&&u[3]?t[w]||"":"");if(u[4])S[w]=S[w].toLowerCase()}if(n)S.query=n(S.query);if(o&&t.slashes&&S.pathname.charAt(0)!=="/"&&(S.pathname!==""||t.pathname!=="")){S.pathname=b(S.pathname,t.pathname)}if(S.pathname.charAt(0)!=="/"&&g(S.protocol)){S.pathname="/"+S.pathname}if(!r(S.port,S.protocol)){S.host=S.hostname;S.port=""}S.username=S.password="";if(S.auth){h=S.auth.indexOf(":");if(~h){S.username=S.auth.slice(0,h);S.username=encodeURIComponent(decodeURIComponent(S.username));S.password=S.auth.slice(h+1);S.password=encodeURIComponent(decodeURIComponent(S.password))}else{S.username=encodeURIComponent(decodeURIComponent(S.auth))}S.auth=S.password?S.username+":"+S.password:S.username}S.origin=S.protocol!=="file:"&&g(S.protocol)&&S.host?S.protocol+"//"+S.host:"null";S.href=S.toString()}function w(e,t,n){var o=this;switch(e){case"query":if("string"===typeof t&&t.length){t=(n||i.parse)(t)}o[e]=t;break;case"port":o[e]=t;if(!r(t,o.protocol)){o.host=o.hostname;o[e]=""}else if(t){o.host=o.hostname+":"+t}break;case"hostname":o[e]=t;if(o.port)t+=":"+o.port;o.host=t;break;case"host":o[e]=t;if(c.test(t)){t=t.split(":");o.port=t.pop();o.hostname=t.join(":")}else{o.hostname=t;o.port=""}break;case"protocol":o.protocol=t.toLowerCase();o.slashes=!n;break;case"pathname":case"hash":if(t){var a=e==="pathname"?"/":"#";o[e]=t.charAt(0)!==a?a+t:t}else{o[e]=t}break;case"username":case"password":o[e]=encodeURIComponent(t);break;case"auth":var s=t.indexOf(":");if(~s){o.username=t.slice(0,s);o.username=encodeURIComponent(decodeURIComponent(o.username));o.password=t.slice(s+1);o.password=encodeURIComponent(decodeURIComponent(o.password))}else{o.username=encodeURIComponent(decodeURIComponent(t))}}for(var u=0;u<d.length;u++){var f=d[u];if(f[4])o[f[1]]=o[f[1]].toLowerCase()}o.auth=o.password?o.username+":"+o.password:o.username;o.origin=o.protocol!=="file:"&&g(o.protocol)&&o.host?o.protocol+"//"+o.host:"null";o.href=o.toString();return o}function y(e){if(!e||"function"!==typeof e)e=i.stringify;var t,n=this,r=n.host,o=n.protocol;if(o&&o.charAt(o.length-1)!==":")o+=":";var a=o+(n.protocol&&n.slashes||g(n.protocol)?"//":"");if(n.username){a+=n.username;if(n.password)a+=":"+n.password;a+="@"}else if(n.password){a+=":"+n.password;a+="@"}else if(n.protocol!=="file:"&&g(n.protocol)&&!r&&n.pathname!=="/"){a+="@"}if(r[r.length-1]===":"||c.test(n.hostname)&&!n.port){r+=":"}a+=r+n.pathname;t="object"===typeof n.query?e(n.query):n.query;if(t)a+="?"!==t.charAt(0)?"?"+t:t;if(n.hash)a+=n.hash;return a}m.prototype={set:w,toString:y};m.extractProtocol=v;m.location=p;m.trimLeft=l;m.qs=i;e.exports=m},790:(e,t,n)=>{(function(t){if(true){e.exports=t()}else{var n}})((function(){var e,t,r;return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var c=undefined;if(!s&&c)return require(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[a]={exports:{}};t[a][0].call(f.exports,(function(e){var n=t[a][1][e];return i(n?n:e)}),f,f.exports,e,t,n,r)}return n[a].exports}var o=undefined;for(var a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,r){(function(e){"use strict";var n=e.MutationObserver||e.WebKitMutationObserver;var r;{if(n){var i=0;var o=new n(f);var a=e.document.createTextNode("");o.observe(a,{characterData:true});r=function(){a.data=i=++i%2}}else if(!e.setImmediate&&typeof e.MessageChannel!=="undefined"){var s=new e.MessageChannel;s.port1.onmessage=f;r=function(){s.port2.postMessage(0)}}else if("document"in e&&"onreadystatechange"in e.document.createElement("script")){r=function(){var t=e.document.createElement("script");t.onreadystatechange=function(){f();t.onreadystatechange=null;t.parentNode.removeChild(t);t=null};e.document.documentElement.appendChild(t)}}else{r=function(){setTimeout(f,0)}}}var c;var u=[];function f(){c=true;var e,t;var n=u.length;while(n){t=u;u=[];e=-1;while(++e<n){t[e]()}n=u.length}c=false}t.exports=l;function l(e){if(u.push(e)===1&&!c){r()}}}).call(this,typeof n.g!=="undefined"?n.g:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],2:[function(e,t,n){"use strict";var r=e(1);function i(){}var o={};var a=["REJECTED"];var s=["FULFILLED"];var c=["PENDING"];t.exports=u;function u(e){if(typeof e!=="function"){throw new TypeError("resolver must be a function")}this.state=c;this.queue=[];this.outcome=void 0;if(e!==i){h(this,e)}}u.prototype["catch"]=function(e){return this.then(null,e)};u.prototype.then=function(e,t){if(typeof e!=="function"&&this.state===s||typeof t!=="function"&&this.state===a){return this}var n=new this.constructor(i);if(this.state!==c){var r=this.state===s?e:t;l(n,r,this.outcome)}else{this.queue.push(new f(n,e,t))}return n};function f(e,t,n){this.promise=e;if(typeof t==="function"){this.onFulfilled=t;this.callFulfilled=this.otherCallFulfilled}if(typeof n==="function"){this.onRejected=n;this.callRejected=this.otherCallRejected}}f.prototype.callFulfilled=function(e){o.resolve(this.promise,e)};f.prototype.otherCallFulfilled=function(e){l(this.promise,this.onFulfilled,e)};f.prototype.callRejected=function(e){o.reject(this.promise,e)};f.prototype.otherCallRejected=function(e){l(this.promise,this.onRejected,e)};function l(e,t,n){r((function(){var r;try{r=t(n)}catch(t){return o.reject(e,t)}if(r===e){o.reject(e,new TypeError("Cannot resolve promise with itself"))}else{o.resolve(e,r)}}))}o.resolve=function(e,t){var n=p(d,t);if(n.status==="error"){return o.reject(e,n.value)}var r=n.value;if(r){h(e,r)}else{e.state=s;e.outcome=t;var i=-1;var a=e.queue.length;while(++i<a){e.queue[i].callFulfilled(t)}}return e};o.reject=function(e,t){e.state=a;e.outcome=t;var n=-1;var r=e.queue.length;while(++n<r){e.queue[n].callRejected(t)}return e};function d(e){var t=e&&e.then;if(e&&(typeof e==="object"||typeof e==="function")&&typeof t==="function"){return function n(){t.apply(e,arguments)}}}function h(e,t){var n=false;function r(t){if(n){return}n=true;o.reject(e,t)}function i(t){if(n){return}n=true;o.resolve(e,t)}function a(){t(i,r)}var s=p(a);if(s.status==="error"){r(s.value)}}function p(e,t){var n={};try{n.value=e(t);n.status="success"}catch(e){n.status="error";n.value=e}return n}u.resolve=g;function g(e){if(e instanceof this){return e}return o.resolve(new this(i),e)}u.reject=v;function v(e){var t=new this(i);return o.reject(t,e)}u.all=b;function b(e){var t=this;if(Object.prototype.toString.call(e)!=="[object Array]"){return this.reject(new TypeError("must be an array"))}var n=e.length;var r=false;if(!n){return this.resolve([])}var a=new Array(n);var s=0;var c=-1;var u=new this(i);while(++c<n){f(e[c],c)}return u;function f(e,i){t.resolve(e).then(c,(function(e){if(!r){r=true;o.reject(u,e)}}));function c(e){a[i]=e;if(++s===n&&!r){r=true;o.resolve(u,a)}}}}u.race=m;function m(e){var t=this;if(Object.prototype.toString.call(e)!=="[object Array]"){return this.reject(new TypeError("must be an array"))}var n=e.length;var r=false;if(!n){return this.resolve([])}var a=-1;var s=new this(i);while(++a<n){c(e[a])}return s;function c(e){t.resolve(e).then((function(e){if(!r){r=true;o.resolve(s,e)}}),(function(e){if(!r){r=true;o.reject(s,e)}}))}}},{1:1}],3:[function(e,t,r){(function(t){"use strict";if(typeof t.Promise!=="function"){t.Promise=e(2)}}).call(this,typeof n.g!=="undefined"?n.g:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{2:2}],4:[function(e,t,n){"use strict";var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(){try{if(typeof indexedDB!=="undefined"){return indexedDB}if(typeof webkitIndexedDB!=="undefined"){return webkitIndexedDB}if(typeof mozIndexedDB!=="undefined"){return mozIndexedDB}if(typeof OIndexedDB!=="undefined"){return OIndexedDB}if(typeof msIndexedDB!=="undefined"){return msIndexedDB}}catch(e){return}}var a=o();function s(){try{if(!a||!a.open){return false}var e=typeof openDatabase!=="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform);var t=typeof fetch==="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||t)&&typeof indexedDB!=="undefined"&&typeof IDBKeyRange!=="undefined"}catch(e){return false}}function c(e,t){e=e||[];t=t||{};try{return new Blob(e,t)}catch(o){if(o.name!=="TypeError"){throw o}var n=typeof BlobBuilder!=="undefined"?BlobBuilder:typeof MSBlobBuilder!=="undefined"?MSBlobBuilder:typeof MozBlobBuilder!=="undefined"?MozBlobBuilder:WebKitBlobBuilder;var r=new n;for(var i=0;i<e.length;i+=1){r.append(e[i])}return r.getBlob(t.type)}}if(typeof Promise==="undefined"){e(3)}var u=Promise;function f(e,t){if(t){e.then((function(e){t(null,e)}),(function(e){t(e)}))}}function l(e,t,n){if(typeof t==="function"){e.then(t)}if(typeof n==="function"){e["catch"](n)}}function d(e){if(typeof e!=="string"){console.warn(e+" used as a key, but it is not a string.");e=String(e)}return e}function h(){if(arguments.length&&typeof arguments[arguments.length-1]==="function"){return arguments[arguments.length-1]}}var p="local-forage-detect-blob-support";var g=void 0;var v={};var b=Object.prototype.toString;var m="readonly";var w="readwrite";function y(e){var t=e.length;var n=new ArrayBuffer(t);var r=new Uint8Array(n);for(var i=0;i<t;i++){r[i]=e.charCodeAt(i)}return n}function _(e){return new u((function(t){var n=e.transaction(p,w);var r=c([""]);n.objectStore(p).put(r,"key");n.onabort=function(e){e.preventDefault();e.stopPropagation();t(false)};n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/);var n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}}))["catch"]((function(){return false}))}function S(e){if(typeof g==="boolean"){return u.resolve(g)}return _(e).then((function(e){g=e;return g}))}function k(e){var t=v[e.name];var n={};n.promise=new u((function(e,t){n.resolve=e;n.reject=t}));t.deferredOperations.push(n);if(!t.dbReady){t.dbReady=n.promise}else{t.dbReady=t.dbReady.then((function(){return n.promise}))}}function I(e){var t=v[e.name];var n=t.deferredOperations.pop();if(n){n.resolve();return n.promise}}function C(e,t){var n=v[e.name];var r=n.deferredOperations.pop();if(r){r.reject(t);return r.promise}}function E(e,t){return new u((function(n,r){v[e.name]=v[e.name]||F();if(e.db){if(t){k(e);e.db.close()}else{return n(e.db)}}var i=[e.name];if(t){i.push(e.version)}var o=a.open.apply(a,i);if(t){o.onupgradeneeded=function(t){var n=o.result;try{n.createObjectStore(e.storeName);if(t.oldVersion<=1){n.createObjectStore(p)}}catch(n){if(n.name==="ConstraintError"){console.warn('The database "'+e.name+'"'+" has been upgraded from version "+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}else{throw n}}}}o.onerror=function(e){e.preventDefault();r(o.error)};o.onsuccess=function(){var t=o.result;t.onversionchange=function(e){e.target.close()};n(t);I(e)}}))}function M(e){return E(e,false)}function A(e){return E(e,true)}function O(e,t){if(!e.db){return true}var n=!e.db.objectStoreNames.contains(e.storeName);var r=e.version<e.db.version;var i=e.version>e.db.version;if(r){if(e.version!==t){console.warn('The database "'+e.name+'"'+" can't be downgraded from version "+e.db.version+" to version "+e.version+".")}e.version=e.db.version}if(i||n){if(n){var o=e.db.version+1;if(o>e.version){e.version=o}}return true}return false}function P(e){return new u((function(t,n){var r=new FileReader;r.onerror=n;r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:true,data:r,type:e.type})};r.readAsBinaryString(e)}))}function T(e){var t=y(atob(e.data));return c([t],{type:e.type})}function N(e){return e&&e.__local_forage_encoded_blob}function D(e){var t=this;var n=t._initReady().then((function(){var e=v[t._dbInfo.name];if(e&&e.dbReady){return e.dbReady}}));l(n,e,e);return n}function x(e){k(e);var t=v[e.name];var n=t.forages;for(var r=0;r<n.length;r++){var i=n[r];if(i._dbInfo.db){i._dbInfo.db.close();i._dbInfo.db=null}}e.db=null;return M(e).then((function(t){e.db=t;if(O(e)){return A(e)}return t})).then((function(r){e.db=t.db=r;for(var i=0;i<n.length;i++){n[i]._dbInfo.db=r}}))["catch"]((function(t){C(e,t);throw t}))}function R(e,t,n,r){if(r===undefined){r=1}try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(i){if(r>0&&(!e.db||i.name==="InvalidStateError"||i.name==="NotFoundError")){return u.resolve().then((function(){if(!e.db||i.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version){if(e.db){e.version=e.db.version+1}return A(e)}})).then((function(){return x(e).then((function(){R(e,t,n,r-1)}))}))["catch"](n)}n(i)}}function F(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function j(e){var t=this;var n={db:null};if(e){for(var r in e){n[r]=e[r]}}var i=v[n.name];if(!i){i=F();v[n.name]=i}i.forages.push(t);if(!t._initReady){t._initReady=t.ready;t.ready=D}var o=[];function a(){return u.resolve()}for(var s=0;s<i.forages.length;s++){var c=i.forages[s];if(c!==t){o.push(c._initReady()["catch"](a))}}var f=i.forages.slice(0);return u.all(o).then((function(){n.db=i.db;return M(n)})).then((function(e){n.db=e;if(O(n,t._defaultConfig.version)){return A(n)}return e})).then((function(e){n.db=i.db=e;t._dbInfo=n;for(var r=0;r<f.length;r++){var o=f[r];if(o!==t){o._dbInfo.db=n.db;o._dbInfo.version=n.version}}}))}function B(e,t){var n=this;e=d(e);var r=new u((function(t,r){n.ready().then((function(){R(n._dbInfo,m,(function(i,o){if(i){return r(i)}try{var a=o.objectStore(n._dbInfo.storeName);var s=a.get(e);s.onsuccess=function(){var e=s.result;if(e===undefined){e=null}if(N(e)){e=T(e)}t(e)};s.onerror=function(){r(s.error)}}catch(e){r(e)}}))}))["catch"](r)}));f(r,t);return r}function L(e,t){var n=this;var r=new u((function(t,r){n.ready().then((function(){R(n._dbInfo,m,(function(i,o){if(i){return r(i)}try{var a=o.objectStore(n._dbInfo.storeName);var s=a.openCursor();var c=1;s.onsuccess=function(){var n=s.result;if(n){var r=n.value;if(N(r)){r=T(r)}var i=e(r,n.key,c++);if(i!==void 0){t(i)}else{n["continue"]()}}else{t()}};s.onerror=function(){r(s.error)}}catch(e){r(e)}}))}))["catch"](r)}));f(r,t);return r}function W(e,t,n){var r=this;e=d(e);var i=new u((function(n,i){var o;r.ready().then((function(){o=r._dbInfo;if(b.call(t)==="[object Blob]"){return S(o.db).then((function(e){if(e){return t}return P(t)}))}return t})).then((function(t){R(r._dbInfo,w,(function(o,a){if(o){return i(o)}try{var s=a.objectStore(r._dbInfo.storeName);if(t===null){t=undefined}var c=s.put(t,e);a.oncomplete=function(){if(t===undefined){t=null}n(t)};a.onabort=a.onerror=function(){var e=c.error?c.error:c.transaction.error;i(e)}}catch(e){i(e)}}))}))["catch"](i)}));f(i,n);return i}function U(e,t){var n=this;e=d(e);var r=new u((function(t,r){n.ready().then((function(){R(n._dbInfo,w,(function(i,o){if(i){return r(i)}try{var a=o.objectStore(n._dbInfo.storeName);var s=a["delete"](e);o.oncomplete=function(){t()};o.onerror=function(){r(s.error)};o.onabort=function(){var e=s.error?s.error:s.transaction.error;r(e)}}catch(e){r(e)}}))}))["catch"](r)}));f(r,t);return r}function z(e){var t=this;var n=new u((function(e,n){t.ready().then((function(){R(t._dbInfo,w,(function(r,i){if(r){return n(r)}try{var o=i.objectStore(t._dbInfo.storeName);var a=o.clear();i.oncomplete=function(){e()};i.onabort=i.onerror=function(){var e=a.error?a.error:a.transaction.error;n(e)}}catch(e){n(e)}}))}))["catch"](n)}));f(n,e);return n}function H(e){var t=this;var n=new u((function(e,n){t.ready().then((function(){R(t._dbInfo,m,(function(r,i){if(r){return n(r)}try{var o=i.objectStore(t._dbInfo.storeName);var a=o.count();a.onsuccess=function(){e(a.result)};a.onerror=function(){n(a.error)}}catch(e){n(e)}}))}))["catch"](n)}));f(n,e);return n}function K(e,t){var n=this;var r=new u((function(t,r){if(e<0){t(null);return}n.ready().then((function(){R(n._dbInfo,m,(function(i,o){if(i){return r(i)}try{var a=o.objectStore(n._dbInfo.storeName);var s=false;var c=a.openKeyCursor();c.onsuccess=function(){var n=c.result;if(!n){t(null);return}if(e===0){t(n.key)}else{if(!s){s=true;n.advance(e)}else{t(n.key)}}};c.onerror=function(){r(c.error)}}catch(e){r(e)}}))}))["catch"](r)}));f(r,t);return r}function $(e){var t=this;var n=new u((function(e,n){t.ready().then((function(){R(t._dbInfo,m,(function(r,i){if(r){return n(r)}try{var o=i.objectStore(t._dbInfo.storeName);var a=o.openKeyCursor();var s=[];a.onsuccess=function(){var t=a.result;if(!t){e(s);return}s.push(t.key);t["continue"]()};a.onerror=function(){n(a.error)}}catch(e){n(e)}}))}))["catch"](n)}));f(n,e);return n}function V(e,t){t=h.apply(this,arguments);var n=this.config();e=typeof e!=="function"&&e||{};if(!e.name){e.name=e.name||n.name;e.storeName=e.storeName||n.storeName}var r=this;var i;if(!e.name){i=u.reject("Invalid arguments")}else{var o=e.name===n.name&&r._dbInfo.db;var s=o?u.resolve(r._dbInfo.db):M(e).then((function(t){var n=v[e.name];var r=n.forages;n.db=t;for(var i=0;i<r.length;i++){r[i]._dbInfo.db=t}return t}));if(!e.storeName){i=s.then((function(t){k(e);var n=v[e.name];var r=n.forages;t.close();for(var i=0;i<r.length;i++){var o=r[i];o._dbInfo.db=null}var s=new u((function(t,n){var r=a.deleteDatabase(e.name);r.onerror=function(){var e=r.result;if(e){e.close()}n(r.error)};r.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')};r.onsuccess=function(){var e=r.result;if(e){e.close()}t(e)}}));return s.then((function(e){n.db=e;for(var t=0;t<r.length;t++){var i=r[t];I(i._dbInfo)}}))["catch"]((function(t){(C(e,t)||u.resolve())["catch"]((function(){}));throw t}))}))}else{i=s.then((function(t){if(!t.objectStoreNames.contains(e.storeName)){return}var n=t.version+1;k(e);var r=v[e.name];var i=r.forages;t.close();for(var o=0;o<i.length;o++){var s=i[o];s._dbInfo.db=null;s._dbInfo.version=n}var c=new u((function(t,r){var i=a.open(e.name,n);i.onerror=function(e){var t=i.result;t.close();r(e)};i.onupgradeneeded=function(){var t=i.result;t.deleteObjectStore(e.storeName)};i.onsuccess=function(){var e=i.result;e.close();t(e)}}));return c.then((function(e){r.db=e;for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=e;I(n._dbInfo)}}))["catch"]((function(t){(C(e,t)||u.resolve())["catch"]((function(){}));throw t}))}))}}f(i,t);return i}var q={_driver:"asyncStorage",_initStorage:j,_support:s(),iterate:L,getItem:B,setItem:W,removeItem:U,clear:z,length:H,key:K,keys:$,dropInstance:V};function G(){return typeof openDatabase==="function"}var J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var X="~~local_forage_type~";var Q=/^~~local_forage_type~([^~]+)~/;var Z="__lfsc__:";var Y=Z.length;var ee="arbf";var te="blob";var ne="si08";var re="ui08";var ie="uic8";var oe="si16";var ae="si32";var se="ur16";var ce="ui32";var ue="fl32";var fe="fl64";var le=Y+ee.length;var de=Object.prototype.toString;function he(e){var t=e.length*.75;var n=e.length;var r;var i=0;var o,a,s,c;if(e[e.length-1]==="="){t--;if(e[e.length-2]==="="){t--}}var u=new ArrayBuffer(t);var f=new Uint8Array(u);for(r=0;r<n;r+=4){o=J.indexOf(e[r]);a=J.indexOf(e[r+1]);s=J.indexOf(e[r+2]);c=J.indexOf(e[r+3]);f[i++]=o<<2|a>>4;f[i++]=(a&15)<<4|s>>2;f[i++]=(s&3)<<6|c&63}return u}function pe(e){var t=new Uint8Array(e);var n="";var r;for(r=0;r<t.length;r+=3){n+=J[t[r]>>2];n+=J[(t[r]&3)<<4|t[r+1]>>4];n+=J[(t[r+1]&15)<<2|t[r+2]>>6];n+=J[t[r+2]&63]}if(t.length%3===2){n=n.substring(0,n.length-1)+"="}else if(t.length%3===1){n=n.substring(0,n.length-2)+"=="}return n}function ge(e,t){var n="";if(e){n=de.call(e)}if(e&&(n==="[object ArrayBuffer]"||e.buffer&&de.call(e.buffer)==="[object ArrayBuffer]")){var r;var i=Z;if(e instanceof ArrayBuffer){r=e;i+=ee}else{r=e.buffer;if(n==="[object Int8Array]"){i+=ne}else if(n==="[object Uint8Array]"){i+=re}else if(n==="[object Uint8ClampedArray]"){i+=ie}else if(n==="[object Int16Array]"){i+=oe}else if(n==="[object Uint16Array]"){i+=se}else if(n==="[object Int32Array]"){i+=ae}else if(n==="[object Uint32Array]"){i+=ce}else if(n==="[object Float32Array]"){i+=ue}else if(n==="[object Float64Array]"){i+=fe}else{t(new Error("Failed to get type for BinaryArray"))}}t(i+pe(r))}else if(n==="[object Blob]"){var o=new FileReader;o.onload=function(){var n=X+e.type+"~"+pe(this.result);t(Z+te+n)};o.readAsArrayBuffer(e)}else{try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e);t(null,n)}}}function ve(e){if(e.substring(0,Y)!==Z){return JSON.parse(e)}var t=e.substring(le);var n=e.substring(Y,le);var r;if(n===te&&Q.test(t)){var i=t.match(Q);r=i[1];t=t.substring(i[0].length)}var o=he(t);switch(n){case ee:return o;case te:return c([o],{type:r});case ne:return new Int8Array(o);case re:return new Uint8Array(o);case ie:return new Uint8ClampedArray(o);case oe:return new Int16Array(o);case se:return new Uint16Array(o);case ae:return new Int32Array(o);case ce:return new Uint32Array(o);case ue:return new Float32Array(o);case fe:return new Float64Array(o);default:throw new Error("Unkown type: "+n)}}var be={serialize:ge,deserialize:ve,stringToBuffer:he,bufferToString:pe};function me(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" "+"(id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function we(e){var t=this;var n={db:null};if(e){for(var r in e){n[r]=typeof e[r]!=="string"?e[r].toString():e[r]}}var i=new u((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(i){me(i,n,(function(){t._dbInfo=n;e()}),(function(e,t){r(t)}))}),r)}));n.serializer=be;return i}function ye(e,t,n,r,i,o){e.executeSql(n,r,i,(function(e,a){if(a.code===a.SYNTAX_ERR){e.executeSql("SELECT name FROM sqlite_master "+"WHERE type='table' AND name = ?",[t.storeName],(function(e,s){if(!s.rows.length){me(e,t,(function(){e.executeSql(n,r,i,o)}),o)}else{o(e,a)}}),o)}else{o(e,a)}}),o)}function _e(e,t){var n=this;e=d(e);var r=new u((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){ye(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;if(r){r=i.serializer.deserialize(r)}t(r)}),(function(e,t){r(t)}))}))}))["catch"](r)}));f(r,t);return r}function Se(e,t){var n=this;var r=new u((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){ye(n,i,"SELECT * FROM "+i.storeName,[],(function(n,r){var o=r.rows;var a=o.length;for(var s=0;s<a;s++){var c=o.item(s);var u=c.value;if(u){u=i.serializer.deserialize(u)}u=e(u,c.key,s+1);if(u!==void 0){t(u);return}}t()}),(function(e,t){r(t)}))}))}))["catch"](r)}));f(r,t);return r}function ke(e,t,n,r){var i=this;e=d(e);var o=new u((function(o,a){i.ready().then((function(){if(t===undefined){t=null}var s=t;var c=i._dbInfo;c.serializer.serialize(t,(function(t,u){if(u){a(u)}else{c.db.transaction((function(n){ye(n,c,"INSERT OR REPLACE INTO "+c.storeName+" "+"(key, value) VALUES (?, ?)",[e,t],(function(){o(s)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0){o(ke.apply(i,[e,s,n,r-1]));return}a(t)}}))}}))}))["catch"](a)}));f(o,n);return o}function Ie(e,t,n){return ke.apply(this,[e,t,n,1])}function Ce(e,t){var n=this;e=d(e);var r=new u((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){ye(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))}))["catch"](r)}));f(r,t);return r}function Ee(e){var t=this;var n=new u((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){ye(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))}))["catch"](n)}));f(n,e);return n}function Me(e){var t=this;var n=new u((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){ye(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))}))["catch"](n)}));f(n,e);return n}function Ae(e,t){var n=this;var r=new u((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){ye(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))}))["catch"](r)}));f(r,t);return r}function Oe(e){var t=this;var n=new u((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){ye(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){var r=[];for(var i=0;i<n.rows.length;i++){r.push(n.rows.item(i).key)}e(r)}),(function(e,t){n(t)}))}))}))["catch"](n)}));f(n,e);return n}function Pe(e){return new u((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master "+"WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){var i=[];for(var o=0;o<r.rows.length;o++){i.push(r.rows.item(o).name)}t({db:e,storeNames:i})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}function Te(e,t){t=h.apply(this,arguments);var n=this.config();e=typeof e!=="function"&&e||{};if(!e.name){e.name=e.name||n.name;e.storeName=e.storeName||n.storeName}var r=this;var i;if(!e.name){i=u.reject("Invalid arguments")}else{i=new u((function(t){var i;if(e.name===n.name){i=r._dbInfo.db}else{i=openDatabase(e.name,"","",0)}if(!e.storeName){t(Pe(i))}else{t({db:i,storeNames:[e.storeName]})}})).then((function(e){return new u((function(t,n){e.db.transaction((function(r){function i(e){return new u((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}var o=[];for(var a=0,s=e.storeNames.length;a<s;a++){o.push(i(e.storeNames[a]))}u.all(o).then((function(){t()}))["catch"]((function(e){n(e)}))}),(function(e){n(e)}))}))}))}f(i,t);return i}var Ne={_driver:"webSQLStorage",_initStorage:we,_support:G(),iterate:Se,getItem:_e,setItem:Ie,removeItem:Ce,clear:Ee,length:Me,key:Ae,keys:Oe,dropInstance:Te};function De(){try{return typeof localStorage!=="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return false}}function xe(e,t){var n=e.name+"/";if(e.storeName!==t.storeName){n+=e.storeName+"/"}return n}function Re(){var e="_localforage_support_test";try{localStorage.setItem(e,true);localStorage.removeItem(e);return false}catch(e){return true}}function Fe(){return!Re()||localStorage.length>0}function je(e){var t=this;var n={};if(e){for(var r in e){n[r]=e[r]}}n.keyPrefix=xe(e,t._defaultConfig);if(!Fe()){return u.reject()}t._dbInfo=n;n.serializer=be;return u.resolve()}function Be(e){var t=this;var n=t.ready().then((function(){var e=t._dbInfo.keyPrefix;for(var n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);if(r.indexOf(e)===0){localStorage.removeItem(r)}}}));f(n,e);return n}function Le(e,t){var n=this;e=d(e);var r=n.ready().then((function(){var t=n._dbInfo;var r=localStorage.getItem(t.keyPrefix+e);if(r){r=t.serializer.deserialize(r)}return r}));f(r,t);return r}function We(e,t){var n=this;var r=n.ready().then((function(){var t=n._dbInfo;var r=t.keyPrefix;var i=r.length;var o=localStorage.length;var a=1;for(var s=0;s<o;s++){var c=localStorage.key(s);if(c.indexOf(r)!==0){continue}var u=localStorage.getItem(c);if(u){u=t.serializer.deserialize(u)}u=e(u,c.substring(i),a++);if(u!==void 0){return u}}}));f(r,t);return r}function Ue(e,t){var n=this;var r=n.ready().then((function(){var t=n._dbInfo;var r;try{r=localStorage.key(e)}catch(e){r=null}if(r){r=r.substring(t.keyPrefix.length)}return r}));f(r,t);return r}function ze(e){var t=this;var n=t.ready().then((function(){var e=t._dbInfo;var n=localStorage.length;var r=[];for(var i=0;i<n;i++){var o=localStorage.key(i);if(o.indexOf(e.keyPrefix)===0){r.push(o.substring(e.keyPrefix.length))}}return r}));f(n,e);return n}function He(e){var t=this;var n=t.keys().then((function(e){return e.length}));f(n,e);return n}function Ke(e,t){var n=this;e=d(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));f(r,t);return r}function $e(e,t,n){var r=this;e=d(e);var i=r.ready().then((function(){if(t===undefined){t=null}var n=t;return new u((function(i,o){var a=r._dbInfo;a.serializer.serialize(t,(function(t,r){if(r){o(r)}else{try{localStorage.setItem(a.keyPrefix+e,t);i(n)}catch(e){if(e.name==="QuotaExceededError"||e.name==="NS_ERROR_DOM_QUOTA_REACHED"){o(e)}o(e)}}}))}))}));f(i,n);return i}function Ve(e,t){t=h.apply(this,arguments);e=typeof e!=="function"&&e||{};if(!e.name){var n=this.config();e.name=e.name||n.name;e.storeName=e.storeName||n.storeName}var r=this;var i;if(!e.name){i=u.reject("Invalid arguments")}else{i=new u((function(t){if(!e.storeName){t(e.name+"/")}else{t(xe(e,r._defaultConfig))}})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);if(n.indexOf(e)===0){localStorage.removeItem(n)}}}))}f(i,t);return i}var qe={_driver:"localStorageWrapper",_initStorage:je,_support:De(),iterate:We,getItem:Le,setItem:$e,removeItem:Ke,clear:Be,length:He,key:Ue,keys:ze,dropInstance:Ve};var Ge=function e(t,n){return t===n||typeof t==="number"&&typeof n==="number"&&isNaN(t)&&isNaN(n)};var Je=function e(t,n){var r=t.length;var i=0;while(i<r){if(Ge(t[i],n)){return true}i++}return false};var Xe=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};var Qe={};var Ze={};var Ye={INDEXEDDB:q,WEBSQL:Ne,LOCALSTORAGE:qe};var et=[Ye.INDEXEDDB._driver,Ye.WEBSQL._driver,Ye.LOCALSTORAGE._driver];var tt=["dropInstance"];var nt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt);var rt={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function it(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function ot(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t){for(var n in t){if(t.hasOwnProperty(n)){if(Xe(t[n])){arguments[0][n]=t[n].slice()}else{arguments[0][n]=t[n]}}}}}return arguments[0]}var at=function(){function e(t){i(this,e);for(var n in Ye){if(Ye.hasOwnProperty(n)){var r=Ye[n];var o=r._driver;this[n]=o;if(!Qe[o]){this.defineDriver(r)}}}this._defaultConfig=ot({},rt);this._config=ot({},this._defaultConfig,t);this._driverSet=null;this._initDriver=null;this._ready=false;this._dbInfo=null;this._wrapLibraryMethodsWithReady();this.setDriver(this._config.driver)["catch"]((function(){}))}e.prototype.config=function e(t){if((typeof t==="undefined"?"undefined":r(t))==="object"){if(this._ready){return new Error("Can't call config() after localforage "+"has been used.")}for(var n in t){if(n==="storeName"){t[n]=t[n].replace(/\W/g,"_")}if(n==="version"&&typeof t[n]!=="number"){return new Error("Database version must be a number.")}this._config[n]=t[n]}if("driver"in t&&t.driver){return this.setDriver(this._config.driver)}return true}else if(typeof t==="string"){return this._config[t]}else{return this._config}};e.prototype.defineDriver=function e(t,n,r){var i=new u((function(e,n){try{var r=t._driver;var i=new Error("Custom driver not compliant; see "+"https://mozilla.github.io/localForage/#definedriver");if(!t._driver){n(i);return}var o=nt.concat("_initStorage");for(var a=0,s=o.length;a<s;a++){var c=o[a];var l=!Je(tt,c);if((l||t[c])&&typeof t[c]!=="function"){n(i);return}}var d=function e(){var n=function e(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver");var n=u.reject(e);f(n,arguments[arguments.length-1]);return n}};for(var r=0,i=tt.length;r<i;r++){var o=tt[r];if(!t[o]){t[o]=n(o)}}};d();var h=function n(i){if(Qe[r]){console.info("Redefining LocalForage driver: "+r)}Qe[r]=t;Ze[r]=i;e()};if("_support"in t){if(t._support&&typeof t._support==="function"){t._support().then(h,n)}else{h(!!t._support)}}else{h(true)}}catch(e){n(e)}}));l(i,n,r);return i};e.prototype.driver=function e(){return this._driver||null};e.prototype.getDriver=function e(t,n,r){var i=Qe[t]?u.resolve(Qe[t]):u.reject(new Error("Driver not found."));l(i,n,r);return i};e.prototype.getSerializer=function e(t){var n=u.resolve(be);l(n,t);return n};e.prototype.ready=function e(t){var n=this;var r=n._driverSet.then((function(){if(n._ready===null){n._ready=n._initDriver()}return n._ready}));l(r,t,t);return r};e.prototype.setDriver=function e(t,n,r){var i=this;if(!Xe(t)){t=[t]}var o=this._getSupportedDrivers(t);function a(){i._config.driver=i.driver()}function s(e){i._extend(e);a();i._ready=i._initStorage(i._config);return i._ready}function c(e){return function(){var t=0;function n(){while(t<e.length){var r=e[t];t++;i._dbInfo=null;i._ready=null;return i.getDriver(r).then(s)["catch"](n)}a();var o=new Error("No available storage method found.");i._driverSet=u.reject(o);return i._driverSet}return n()}}var f=this._driverSet!==null?this._driverSet["catch"]((function(){return u.resolve()})):u.resolve();this._driverSet=f.then((function(){var e=o[0];i._dbInfo=null;i._ready=null;return i.getDriver(e).then((function(e){i._driver=e._driver;a();i._wrapLibraryMethodsWithReady();i._initDriver=c(o)}))}))["catch"]((function(){a();var e=new Error("No available storage method found.");i._driverSet=u.reject(e);return i._driverSet}));l(this._driverSet,n,r);return this._driverSet};e.prototype.supports=function e(t){return!!Ze[t]};e.prototype._extend=function e(t){ot(this,t)};e.prototype._getSupportedDrivers=function e(t){var n=[];for(var r=0,i=t.length;r<i;r++){var o=t[r];if(this.supports(o)){n.push(o)}}return n};e.prototype._wrapLibraryMethodsWithReady=function e(){for(var t=0,n=nt.length;t<n;t++){it(this,nt[t])}};e.prototype.createInstance=function t(n){return new e(n)};return e}();var st=new at;t.exports=st},{3:3}]},{},[4])(4)}))},880:function(e){!function(t,n){true?e.exports=n():0}(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),a=Math.max(i,o),s=0,c=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(c[0][a]>c[1][a])return 1;if(c[0][a]===c[1][a]){if(a===s)return 0;a-=1}else if(c[0][a]<c[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var s=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0;t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"};t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"};t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"};t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"};t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(n=null)&&a(t.prototype,n),r&&a(t,r),e}();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(92)),i=c(n(93)),o=c(n(94)),a=c(n(95)),s=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(i[t]=a,o+=1):"object"==typeof a&&(n[t]=a,r+=1)})),r>0){var a=Object.keys(n),c=s.default.find(a,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(n[c]);if(void 0!==u)return u}var f=s.default.find(a,(function(e){return t.isPlatform(e)}));if(f){var l=this.satisfies(n[f]);if(void 0!==l)return l}}if(o>0){var d=Object.keys(i),h=s.default.find(d,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=s.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r};var o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18);var a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18);var a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18);var a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})}))},935:(e,t,n)=>{e.exports=n(47)["default"]},992:(e,t)=>{"use strict";var n=Object.prototype.hasOwnProperty,r;function i(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function o(e){try{return encodeURIComponent(e)}catch(e){return null}}function a(e){var t=/([^=?#&]+)=?([^&]*)/g,n={},r;while(r=t.exec(e)){var o=i(r[1]),a=i(r[2]);if(o===null||a===null||o in n)continue;n[o]=a}return n}function s(e,t){t=t||"";var i=[],a,s;if("string"!==typeof t)t="?";for(s in e){if(n.call(e,s)){a=e[s];if(!a&&(a===null||a===r||isNaN(a))){a=""}s=o(s);a=o(a);if(s===null||a===null)continue;i.push(s+"="+a)}}return i.length?t+i.join("&"):""}t.stringify=s;t.parse=a}};var t={};function n(r){var i=t[r];if(i!==undefined){return i.exports}var o=t[r]={exports:{}};e[r].call(o.exports,o,o.exports,n);return o.exports}(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;n.d(t,{a:t});return t}})();(()=>{n.d=(e,t)=>{for(var r in t){if(n.o(t,r)&&!n.o(e,r)){Object.defineProperty(e,r,{enumerable:true,get:t[r]})}}}})();(()=>{n.g=function(){if(typeof globalThis==="object")return globalThis;try{return this||new Function("return this")()}catch(e){if(typeof window==="object")return window}}()})();(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})();var r={};(()=>{"use strict";var e=n(935);var t=n.n(e);const r=()=>undefined;const i={NODE_CLIENT:false,NODE_ADMIN:false,SDK_VERSION:"${JSCORE_VERSION}"};const o=function(e,t){if(!e){throw a(t)}};const a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};const s=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i<128){t[n++]=i}else if(i<2048){t[n++]=i>>6|192;t[n++]=i&63|128}else if((i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320){i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);t[n++]=i>>18|240;t[n++]=i>>12&63|128;t[n++]=i>>6&63|128;t[n++]=i&63|128}else{t[n++]=i>>12|224;t[n++]=i>>6&63|128;t[n++]=i&63|128}}return t};const c=function(e){const t=[];let n=0,r=0;while(n<e.length){const i=e[n++];if(i<128){t[r++]=String.fromCharCode(i)}else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++];const a=e[n++];const s=e[n++];const c=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10));t[r++]=String.fromCharCode(56320+(c&1023))}else{const o=e[n++];const a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return t.join("")};const u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"+"abcdefghijklmnopqrstuvwxyz"+"0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob==="function",encodeByteArray(e,t){if(!Array.isArray(e)){throw Error("encodeByteArray takes an array as a parameter")}this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_;const r=[];for(let t=0;t<e.length;t+=3){const i=e[t];const o=t+1<e.length;const a=o?e[t+1]:0;const s=t+2<e.length;const c=s?e[t+2]:0;const u=i>>2;const f=(i&3)<<4|a>>4;let l=(a&15)<<2|c>>6;let d=c&63;if(!s){d=64;if(!o){l=64}}r.push(n[u],n[f],n[l],n[d])}return r.join("")},encodeString(e,t){if(this.HAS_NATIVE_SUPPORT&&!t){return btoa(e)}return this.encodeByteArray(s(e),t)},decodeString(e,t){if(this.HAS_NATIVE_SUPPORT&&!t){return atob(e)}return c(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_;const r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)];const o=t<e.length;const a=o?n[e.charAt(t)]:0;++t;const s=t<e.length;const c=s?n[e.charAt(t)]:64;++t;const u=t<e.length;const l=u?n[e.charAt(t)]:64;++t;if(i==null||a==null||c==null||l==null){throw new f}const d=i<<2|a>>4;r.push(d);if(c!==64){const e=a<<4&240|c>>2;r.push(e);if(l!==64){const e=c<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={};this.charToByteMap_={};this.byteToCharMapWebSafe_={};this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++){this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e);this.charToByteMap_[this.byteToCharMap_[e]]=e;this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e);this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e;if(e>=this.ENCODED_VALS_BASE.length){this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e;this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e}}}}};class f extends Error{constructor(){super(...arguments);this.name="DecodeBase64StringError"}}const l=function(e){const t=s(e);return u.encodeByteArray(t,true)};const d=function(e){return l(e).replace(/\./g,"")};const h=function(e){try{return u.decodeString(e,true)}catch(e){console.error("base64Decode failed: ",e)}return null};function p(e){return g(undefined,e)}function g(e,t){if(!(t instanceof Object)){return t}switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:if(e===undefined){e={}}break;case Array:e=[];break;default:return t}for(const n in t){if(!t.hasOwnProperty(n)||!v(n)){continue}e[n]=g(e[n],t[n])}return e}function v(e){return e!=="__proto__"}function b(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof n.g!=="undefined"){return n.g}throw new Error("Unable to locate global object.")}const m=()=>b().__FIREBASE_DEFAULTS__;const w=()=>{if(typeof process==="undefined"||typeof process.env==="undefined"){return}const e=process.env.__FIREBASE_DEFAULTS__;if(e){return JSON.parse(e)}};const y=()=>{if(typeof document==="undefined"){return}let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&h(e[1]);return t&&JSON.parse(t)};const _=()=>{try{return r()||m()||w()||y()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}};const S=e=>_()?.emulatorHosts?.[e];const k=e=>{const t=S(e);if(!t){return undefined}const n=t.lastIndexOf(":");if(n<=0||n+1===t.length){throw new Error(`Invalid host ${t} with no separate hostname and port!`)}const r=parseInt(t.substring(n+1),10);if(t[0]==="["){return[t.substring(1,n-1),r]}else{return[t.substring(0,n),r]}};const I=()=>_()?.config;const C=e=>_()?.[`_${e}`];class E{constructor(){this.reject=()=>{};this.resolve=()=>{};this.promise=new Promise(((e,t)=>{this.resolve=e;this.reject=t}))}wrapCallback(e){return(t,n)=>{if(t){this.reject(t)}else{this.resolve(n)}if(typeof e==="function"){this.promise.catch((()=>{}));if(e.length===1){e(t)}else{e(t,n)}}}}}function M(e){try{const t=e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e;return t.endsWith(".cloudworkstations.dev")}catch{return false}}async function A(e){const t=await fetch(e,{credentials:"include"});return t.ok}function O(e,t){if(e.uid){throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.')}const n={alg:"none",type:"JWT"};const r=t||"demo-project";const i=e.iat||0;const o=e.sub||e.user_id;if(!o){throw new Error("mockUserToken must contain 'sub' or 'user_id' field!")}const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...e};const s="";return[d(JSON.stringify(n)),d(JSON.stringify(a)),s].join(".")}const P={};function T(){const e={prod:[],emulator:[]};for(const t of Object.keys(P)){if(P[t]){e.emulator.push(t)}else{e.prod.push(t)}}return e}function N(e){let t=document.getElementById(e);let n=false;if(!t){t=document.createElement("div");t.setAttribute("id",e);n=true}return{created:n,element:t}}let D=false;function x(e,t){if(typeof window==="undefined"||typeof document==="undefined"||!M(window.location.host)||P[e]===t||P[e]||D){return}P[e]=t;function n(e){return`__firebase__banner__${e}`}const r="__firebase__banner";const i=T();const o=i.prod.length>0;function a(){const e=document.getElementById(r);if(e){e.remove()}}function s(e){e.style.display="flex";e.style.background="#7faaf0";e.style.position="fixed";e.style.bottom="5px";e.style.left="5px";e.style.padding=".5em";e.style.borderRadius="5px";e.style.alignItems="center"}function c(e,t){e.setAttribute("width","24");e.setAttribute("id",t);e.setAttribute("height","24");e.setAttribute("viewBox","0 0 24 24");e.setAttribute("fill","none");e.style.marginLeft="-6px"}function u(){const e=document.createElement("span");e.style.cursor="pointer";e.style.marginLeft="16px";e.style.fontSize="24px";e.innerHTML=" &times;";e.onclick=()=>{D=true;a()};return e}function f(e,t){e.setAttribute("id",t);e.innerText="Learn more";e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend";e.setAttribute("target","__blank");e.style.paddingLeft="5px";e.style.textDecoration="underline"}function l(){const e=N(r);const t=n("text");const i=document.getElementById(t)||document.createElement("span");const a=n("learnmore");const l=document.getElementById(a)||document.createElement("a");const d=n("preprendIcon");const h=document.getElementById(d)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;s(t);f(l,a);const n=u();c(h,d);t.append(h,i,l,n);document.body.appendChild(t)}if(o){i.innerText=`Preview backend disconnected.`;h.innerHTML=`<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>`}else{h.innerHTML=`<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>`;i.innerText="Preview backend running in this workspace."}i.setAttribute("id",t)}if(document.readyState==="loading"){window.addEventListener("DOMContentLoaded",l)}else{l()}}function R(){if(typeof navigator!=="undefined"&&typeof navigator["userAgent"]==="string"){return navigator["userAgent"]}else{return""}}function F(){return typeof window!=="undefined"&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(R())}function j(){const e=_()?.forceEnvironment;if(e==="node"){return true}else if(e==="browser"){return false}try{return Object.prototype.toString.call(n.g.process)==="[object process]"}catch(e){return false}}function B(){return typeof window!=="undefined"||L()}function L(){return typeof WorkerGlobalScope!=="undefined"&&typeof self!=="undefined"&&self instanceof WorkerGlobalScope}function W(){return typeof navigator!=="undefined"&&navigator.userAgent==="Cloudflare-Workers"}function U(){const e=typeof chrome==="object"?chrome.runtime:typeof browser==="object"?browser.runtime:undefined;return typeof e==="object"&&e.id!==undefined}function z(){return typeof navigator==="object"&&navigator["product"]==="ReactNative"}function H(){return R().indexOf("Electron/")>=0}function K(){const e=R();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function $(){return R().indexOf("MSAppHost/")>=0}function V(){return i.NODE_CLIENT===true||i.NODE_ADMIN===true}function q(){return!j()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G(){return!j()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function J(){try{return typeof indexedDB==="object"}catch(e){return false}}function X(){return new Promise(((e,t)=>{try{let n=true;const r="validate-browser-context-for-indexeddb-analytics-module";const i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close();if(!n){self.indexedDB.deleteDatabase(r)}e(true)};i.onupgradeneeded=()=>{n=false};i.onerror=()=>{t(i.error?.message||"")}}catch(e){t(e)}}))}function Q(){if(typeof navigator==="undefined"||!navigator.cookieEnabled){return false}return true}const Z="FirebaseError";class Y extends Error{constructor(e,t,n){super(t);this.code=e;this.customData=n;this.name=Z;Object.setPrototypeOf(this,Y.prototype);if(Error.captureStackTrace){Error.captureStackTrace(this,ee.prototype.create)}}}class ee{constructor(e,t,n){this.service=e;this.serviceName=t;this.errors=n}create(e,...t){const n=t[0]||{};const r=`${this.service}/${e}`;const i=this.errors[e];const o=i?te(i,n):"Error";const a=`${this.serviceName}: ${o} (${r}).`;const s=new Y(r,a,n);return s}}function te(e,t){return e.replace(ne,((e,n)=>{const r=t[n];return r!=null?String(r):`<${n}?>`}))}const ne=/\{\$([^}]+)}/g;function re(e){return JSON.parse(e)}function ie(e){return JSON.stringify(e)}const oe=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=re(h(o[0])||"");n=re(h(o[1])||"");i=o[2];r=n["d"]||{};delete n["d"]}catch(e){}return{header:t,claims:n,data:r,signature:i}};const ae=function(e){const t=oe(e).claims;const n=Math.floor((new Date).getTime()/1e3);let r=0,i=0;if(typeof t==="object"){if(t.hasOwnProperty("nbf")){r=t["nbf"]}else if(t.hasOwnProperty("iat")){r=t["iat"]}if(t.hasOwnProperty("exp")){i=t["exp"]}else{i=r+86400}}return!!n&&!!r&&!!i&&n>=r&&n<=i};const se=function(e){const t=oe(e).claims;if(typeof t==="object"&&t.hasOwnProperty("iat")){return t["iat"]}return null};const ce=function(e){const t=oe(e),n=t.claims;return!!n&&typeof n==="object"&&n.hasOwnProperty("iat")};const ue=function(e){const t=oe(e).claims;return typeof t==="object"&&t["admin"]===true};function fe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function le(e,t){if(Object.prototype.hasOwnProperty.call(e,t)){return e[t]}else{return undefined}}function de(e){for(const t in e){if(Object.prototype.hasOwnProperty.call(e,t)){return false}}return true}function he(e,t,n){const r={};for(const i in e){if(Object.prototype.hasOwnProperty.call(e,i)){r[i]=t.call(n,e[i],i,e)}}return r}function pe(e,t){if(e===t){return true}const n=Object.keys(e);const r=Object.keys(t);for(const i of n){if(!r.includes(i)){return false}const n=e[i];const o=t[i];if(ge(n)&&ge(o)){if(!pe(n,o)){return false}}else if(n!==o){return false}}for(const e of r){if(!n.includes(e)){return false}}return true}function ge(e){return e!==null&&typeof e==="object"}function ve(e,t=2e3){const n=new E;setTimeout((()=>n.reject("timeout!")),t);e.then(n.resolve,n.reject);return n.promise}function be(e){const t=[];for(const[n,r]of Object.entries(e)){if(Array.isArray(r)){r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}))}else{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}}return t.length?"&"+t.join("&"):""}function me(e){const t={};const n=e.replace(/^\?/,"").split("&");n.forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}));return t}function we(e){const t=e.indexOf("?");if(!t){return""}const n=e.indexOf("#",t);return e.substring(t,n>0?n:undefined)}class ye{constructor(){this.chain_=[];this.buf_=[];this.W_=[];this.pad_=[];this.inbuf_=0;this.total_=0;this.blockSize=512/8;this.pad_[0]=128;for(let e=1;e<this.blockSize;++e){this.pad_[e]=0}this.reset()}reset(){this.chain_[0]=1732584193;this.chain_[1]=4023233417;this.chain_[2]=2562383102;this.chain_[3]=271733878;this.chain_[4]=3285377520;this.inbuf_=0;this.total_=0}compress_(e,t){if(!t){t=0}const n=this.W_;if(typeof e==="string"){for(let r=0;r<16;r++){n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3);t+=4}}else{for(let r=0;r<16;r++){n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];t+=4}}for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=(t<<1|t>>>31)&4294967295}let r=this.chain_[0];let i=this.chain_[1];let o=this.chain_[2];let a=this.chain_[3];let s=this.chain_[4];let c,u;for(let e=0;e<80;e++){if(e<40){if(e<20){c=a^i&(o^a);u=1518500249}else{c=i^o^a;u=1859775393}}else{if(e<60){c=i&o|a&(i|o);u=2400959708}else{c=i^o^a;u=3395469782}}const t=(r<<5|r>>>27)+c+s+u+n[e]&4294967295;s=a;a=o;o=(i<<30|i>>>2)&4294967295;i=r;r=t}this.chain_[0]=this.chain_[0]+r&4294967295;this.chain_[1]=this.chain_[1]+i&4294967295;this.chain_[2]=this.chain_[2]+o&4294967295;this.chain_[3]=this.chain_[3]+a&4294967295;this.chain_[4]=this.chain_[4]+s&4294967295}update(e,t){if(e==null){return}if(t===undefined){t=e.length}const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;while(r<t){if(o===0){while(r<=n){this.compress_(e,r);r+=this.blockSize}}if(typeof e==="string"){while(r<t){i[o]=e.charCodeAt(r);++o;++r;if(o===this.blockSize){this.compress_(i);o=0;break}}}else{while(r<t){i[o]=e[r];++o;++r;if(o===this.blockSize){this.compress_(i);o=0;break}}}}this.inbuf_=o;this.total_+=t}digest(){const e=[];let t=this.total_*8;if(this.inbuf_<56){this.update(this.pad_,56-this.inbuf_)}else{this.update(this.pad_,this.blockSize-(this.inbuf_-56))}for(let e=this.blockSize-1;e>=56;e--){this.buf_[e]=t&255;t/=256}this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++){for(let r=24;r>=0;r-=8){e[n]=this.chain_[t]>>r&255;++n}}return e}}function _e(e,t){const n=new Se(e,t);return n.subscribe.bind(n)}class Se{constructor(e,t){this.observers=[];this.unsubscribes=[];this.observerCount=0;this.task=Promise.resolve();this.finalized=false;this.onNoObservers=t;this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)}));this.close(e)}complete(){this.forEachObserver((e=>{e.complete()}));this.close()}subscribe(e,t,n){let r;if(e===undefined&&t===undefined&&n===undefined){throw new Error("Missing Observer.")}if(Ie(e,["next","error","complete"])){r=e}else{r={next:e,error:t,complete:n}}if(r.next===undefined){r.next=Ce}if(r.error===undefined){r.error=Ce}if(r.complete===undefined){r.complete=Ce}const i=this.unsubscribeOne.bind(this,this.observers.length);if(this.finalized){this.task.then((()=>{try{if(this.finalError){r.error(this.finalError)}else{r.complete()}}catch(e){}return}))}this.observers.push(r);return i}unsubscribeOne(e){if(this.observers===undefined||this.observers[e]===undefined){return}delete this.observers[e];this.observerCount-=1;if(this.observerCount===0&&this.onNoObservers!==undefined){this.onNoObservers(this)}}forEachObserver(e){if(this.finalized){return}for(let t=0;t<this.observers.length;t++){this.sendOne(t,e)}}sendOne(e,t){this.task.then((()=>{if(this.observers!==undefined&&this.observers[e]!==undefined){try{t(this.observers[e])}catch(e){if(typeof console!=="undefined"&&console.error){console.error(e)}}}}))}close(e){if(this.finalized){return}this.finalized=true;if(e!==undefined){this.finalError=e}this.task.then((()=>{this.observers=undefined;this.onNoObservers=undefined}))}}function ke(e,t){return(...n)=>{Promise.resolve(true).then((()=>{e(...n)})).catch((e=>{if(t){t(e)}}))}}function Ie(e,t){if(typeof e!=="object"||e===null){return false}for(const n of t){if(n in e&&typeof e[n]==="function"){return true}}return false}function Ce(){}const Ee=function(e,t,n,r){let i;if(r<t){i="at least "+t}else if(r>n){i=n===0?"none":"no more than "+n}if(i){const t=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(t)}};function Me(e,t){return`${e} failed: ${t} argument `}function Ae(e,t,n){if(n&&!t){return}if(typeof t!=="string"){throw new Error(Me(e,"namespace")+"must be a valid firebase namespace.")}}function Oe(e,t,n,r){if(r&&!n){return}if(typeof n!=="function"){throw new Error(Me(e,t)+"must be a valid function.")}}function Pe(e,t,n,r){if(r&&!n){return}if(typeof n!=="object"||n===null){throw new Error(Me(e,t)+"must be a valid context object.")}}const Te=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++;o(r<e.length,"Surrogate pair missing trail surrogate.");const n=e.charCodeAt(r)-56320;i=65536+(t<<10)+n}if(i<128){t[n++]=i}else if(i<2048){t[n++]=i>>6|192;t[n++]=i&63|128}else if(i<65536){t[n++]=i>>12|224;t[n++]=i>>6&63|128;t[n++]=i&63|128}else{t[n++]=i>>18|240;t[n++]=i>>12&63|128;t[n++]=i>>6&63|128;t[n++]=i&63|128}}return t};const Ne=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(r<128){t++}else if(r<2048){t+=2}else if(r>=55296&&r<=56319){t+=4;n++}else{t+=3}}return t};const De=1e3;const xe=2;const Re=null&&4*60*60*1e3;const Fe=.5;function je(e,t=De,n=xe){const r=t*Math.pow(n,e);const i=Math.round(Fe*r*(Math.random()-.5)*2);return Math.min(Re,r+i)}function Be(e){if(!Number.isFinite(e)){return`${e}`}return e+Le(e)}function Le(e){e=Math.abs(e);const t=e%100;if(t>=10&&t<=20){return"th"}const n=e%10;if(n===1){return"st"}if(n===2){return"nd"}if(n===3){return"rd"}return"th"}function We(e){if(e&&e._delegate){return e._delegate}else{return e}}class Ue{constructor(e,t,n){this.name=e;this.instanceFactory=t;this.type=n;this.multipleInstances=false;this.serviceProps={};this.instantiationMode="LAZY";this.onInstanceCreated=null}setInstantiationMode(e){this.instantiationMode=e;return this}setMultipleInstances(e){this.multipleInstances=e;return this}setServiceProps(e){this.serviceProps=e;return this}setInstanceCreatedCallback(e){this.onInstanceCreated=e;return this}}const ze="[DEFAULT]";class He{constructor(e,t){this.name=e;this.container=t;this.component=null;this.instances=new Map;this.instancesDeferred=new Map;this.instancesOptions=new Map;this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new E;this.instancesDeferred.set(t,e);if(this.isInitialized(t)||this.shouldAutoInitialize()){try{const n=this.getOrInitializeService({instanceIdentifier:t});if(n){e.resolve(n)}}catch(e){}}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier);const n=e?.optional??false;if(this.isInitialized(t)||this.shouldAutoInitialize()){try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n){return null}else{throw e}}}else{if(n){return null}else{throw Error(`Service ${this.name} is not available`)}}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name){throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`)}if(this.component){throw Error(`Component for ${this.name} has already been provided`)}this.component=e;if(!this.shouldAutoInitialize()){return}if($e(e)){try{this.getOrInitializeService({instanceIdentifier:ze})}catch(e){}}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}clearInstance(e=ze){this.instancesDeferred.delete(e);this.instancesOptions.delete(e);this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return this.component!=null}isInitialized(e=ze){return this.instances.has(e)}getOptions(e=ze){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e;const n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n)){throw Error(`${this.name}(${n}) has already been initialized`)}if(!this.isComponentSet()){throw Error(`Component ${this.name} has not been registered yet`)}const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);if(n===i){t.resolve(r)}}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t);const r=this.onInitCallbacks.get(n)??new Set;r.add(e);this.onInitCallbacks.set(n,r);const i=this.instances.get(n);if(i){e(i,n)}return()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(!n){return}for(const r of n){try{r(e,t)}catch{}}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component){n=this.component.instanceFactory(this.container,{instanceIdentifier:Ke(e),options:t});this.instances.set(e,n);this.instancesOptions.set(e,t);this.invokeOnInitCallbacks(n,e);if(this.component.onInstanceCreated){try{this.component.onInstanceCreated(this.container,e,n)}catch{}}}return n||null}normalizeInstanceIdentifier(e=ze){if(this.component){return this.component.multipleInstances?e:ze}else{return e}}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ke(e){return e===ze?undefined:e}function $e(e){return e.instantiationMode==="EAGER"}class Ve{constructor(e){this.name=e;this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet()){throw new Error(`Component ${e.name} has already been registered with ${this.name}`)}t.setComponent(e)}addOrOverwriteComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet()){this.providers.delete(e.name)}this.addComponent(e)}getProvider(e){if(this.providers.has(e)){return this.providers.get(e)}const t=new He(e,this);this.providers.set(e,t);return t}getProviders(){return Array.from(this.providers.values())}}const qe=[];var Ge;(function(e){e[e["DEBUG"]=0]="DEBUG";e[e["VERBOSE"]=1]="VERBOSE";e[e["INFO"]=2]="INFO";e[e["WARN"]=3]="WARN";e[e["ERROR"]=4]="ERROR";e[e["SILENT"]=5]="SILENT"})(Ge||(Ge={}));const Je={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT};const Xe=Ge.INFO;const Qe={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"};const Ze=(e,t,...n)=>{if(t<e.logLevel){return}const r=(new Date).toISOString();const i=Qe[t];if(i){console[i](`[${r}]  ${e.name}:`,...n)}else{throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)}};class Ye{constructor(e){this.name=e;this._logLevel=Xe;this._logHandler=Ze;this._userLogHandler=null;qe.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge)){throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``)}this._logLevel=e}setLogLevel(e){this._logLevel=typeof e==="string"?Je[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!=="function"){throw new TypeError("Value assigned to `logHandler` must be a function")}this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e);this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e);this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e);this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e);this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e);this._logHandler(this,Ge.ERROR,...e)}}function et(e){qe.forEach((t=>{t.setLogLevel(e)}))}function tt(e,t){for(const n of qe){let r=null;if(t&&t.level){r=Je[t.level]}if(e===null){n.userLogHandler=null}else{n.userLogHandler=(t,n,...i)=>{const o=i.map((e=>{if(e==null){return null}else if(typeof e==="string"){return e}else if(typeof e==="number"||typeof e==="boolean"){return e.toString()}else if(e instanceof Error){return e.message}else{try{return JSON.stringify(e)}catch(e){return null}}})).filter((e=>e)).join(" ");if(n>=(r??t.logLevel)){e({level:Ge[n].toLowerCase(),message:o,args:i,type:t.name})}}}}}const nt=(e,t)=>t.some((t=>e instanceof t));let rt;let it;function ot(){return rt||(rt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function at(){return it||(it=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const st=new WeakMap;const ct=new WeakMap;const ut=new WeakMap;const ft=new WeakMap;const lt=new WeakMap;function dt(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i);e.removeEventListener("error",o)};const i=()=>{t(mt(e.result));r()};const o=()=>{n(e.error);r()};e.addEventListener("success",i);e.addEventListener("error",o)}));t.then((t=>{if(t instanceof IDBCursor){st.set(t,e)}})).catch((()=>{}));lt.set(t,e);return t}function ht(e){if(ct.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i);e.removeEventListener("error",o);e.removeEventListener("abort",o)};const i=()=>{t();r()};const o=()=>{n(e.error||new DOMException("AbortError","AbortError"));r()};e.addEventListener("complete",i);e.addEventListener("error",o);e.addEventListener("abort",o)}));ct.set(e,t)}let pt={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return ct.get(e);if(t==="objectStoreNames"){return e.objectStoreNames||ut.get(e)}if(t==="store"){return n.objectStoreNames[1]?undefined:n.objectStore(n.objectStoreNames[0])}}return mt(e[t])},set(e,t,n){e[t]=n;return true},has(e,t){if(e instanceof IDBTransaction&&(t==="done"||t==="store")){return true}return t in e}};function gt(e){pt=e(pt)}function vt(e){if(e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)){return function(t,...n){const r=e.call(wt(this),t,...n);ut.set(r,t.sort?t.sort():[t]);return mt(r)}}if(at().includes(e)){return function(...t){e.apply(wt(this),t);return mt(st.get(this))}}return function(...t){return mt(e.apply(wt(this),t))}}function bt(e){if(typeof e==="function")return vt(e);if(e instanceof IDBTransaction)ht(e);if(nt(e,ot()))return new Proxy(e,pt);return e}function mt(e){if(e instanceof IDBRequest)return dt(e);if(ft.has(e))return ft.get(e);const t=bt(e);if(t!==e){ft.set(e,t);lt.set(t,e)}return t}const wt=e=>lt.get(e);function yt(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t);const s=mt(a);if(r){a.addEventListener("upgradeneeded",(e=>{r(mt(a.result),e.oldVersion,e.newVersion,mt(a.transaction),e)}))}if(n){a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e)))}s.then((e=>{if(o)e.addEventListener("close",(()=>o()));if(i){e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))}})).catch((()=>{}));return s}function _t(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);if(t){n.addEventListener("blocked",(e=>t(e.oldVersion,e)))}return mt(n).then((()=>undefined))}const St=["get","getKey","getAll","getAllKeys","count"];const kt=["put","add","delete","clear"];const It=new Map;function Ct(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t==="string")){return}if(It.get(t))return It.get(t);const n=t.replace(/FromIndex$/,"");const r=t!==n;const i=kt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||St.includes(n))){return}const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let a=o.store;if(r)a=a.index(t.shift());return(await Promise.all([a[n](...t),i&&o.done]))[0]};It.set(t,o);return o}gt((e=>({...e,get:(t,n,r)=>Ct(t,n)||e.get(t,n,r),has:(t,n)=>!!Ct(t,n)||e.has(t,n)})));class Et{constructor(e){this.container=e}getPlatformInfoString(){const e=this.container.getProviders();return e.map((e=>{if(Mt(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}else{return null}})).filter((e=>e)).join(" ")}}function Mt(e){const t=e.getComponent();return t?.type==="VERSION"}const At="@firebase/app";const Ot="0.14.5";const Pt=new Ye("@firebase/app");const Tt="@firebase/app-compat";const Nt="@firebase/analytics-compat";const Dt="@firebase/analytics";const xt="@firebase/app-check-compat";const Rt="@firebase/app-check";const Ft="@firebase/auth";const jt="@firebase/auth-compat";const Bt="@firebase/database";const Lt="@firebase/data-connect";const Wt="@firebase/database-compat";const Ut="@firebase/functions";const zt="@firebase/functions-compat";const Ht="@firebase/installations";const Kt="@firebase/installations-compat";const $t="@firebase/messaging";const Vt="@firebase/messaging-compat";const qt="@firebase/performance";const Gt="@firebase/performance-compat";const Jt="@firebase/remote-config";const Xt="@firebase/remote-config-compat";const Qt="@firebase/storage";const Zt="@firebase/storage-compat";const Yt="@firebase/firestore";const en="@firebase/ai";const tn="@firebase/firestore-compat";const nn="firebase";const rn="12.5.0";const on="[DEFAULT]";const an={[At]:"fire-core",[Tt]:"fire-core-compat",[Dt]:"fire-analytics",[Nt]:"fire-analytics-compat",[Rt]:"fire-app-check",[xt]:"fire-app-check-compat",[Ft]:"fire-auth",[jt]:"fire-auth-compat",[Bt]:"fire-rtdb",[Lt]:"fire-data-connect",[Wt]:"fire-rtdb-compat",[Ut]:"fire-fn",[zt]:"fire-fn-compat",[Ht]:"fire-iid",[Kt]:"fire-iid-compat",[$t]:"fire-fcm",[Vt]:"fire-fcm-compat",[qt]:"fire-perf",[Gt]:"fire-perf-compat",[Jt]:"fire-rc",[Xt]:"fire-rc-compat",[Qt]:"fire-gcs",[Zt]:"fire-gcs-compat",[Yt]:"fire-fst",[tn]:"fire-fst-compat",[en]:"fire-vertex","fire-js":"fire-js",[nn]:"fire-js-all"};const sn=new Map;const cn=new Map;const un=new Map;function fn(e,t){try{e.container.addComponent(t)}catch(n){Pt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ln(e,t){e.container.addOrOverwriteComponent(t)}function dn(e){const t=e.name;if(un.has(t)){Pt.debug(`There were multiple attempts to register component ${t}.`);return false}un.set(t,e);for(const t of sn.values()){fn(t,e)}for(const t of cn.values()){fn(t,e)}return true}function hn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:true});if(n){void n.triggerHeartbeat()}return e.container.getProvider(t)}function pn(e,t,n=on){hn(e,t).clearInstance(n)}function gn(e){return e.options!==undefined}function vn(e){if(gn(e)){return false}return"authIdToken"in e||"appCheckToken"in e||"releaseOnDeref"in e||"automaticDataCollectionEnabled"in e}function bn(e){if(e===null||e===undefined){return false}return e.settings!==undefined}function mn(){un.clear()}const wn={["no-app"]:"No Firebase App '{$appName}' has been created - "+"call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}'",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["server-app-deleted"]:"Firebase Server App has been deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a "+"Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",["finalization-registry-not-supported"]:"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",["invalid-server-app-environment"]:"FirebaseServerApp is not for use in browser environments."};const yn=new ee("app","Firebase",wn);class _n{constructor(e,t,n){this._isDeleted=false;this._options={...e};this._config={...t};this._name=t.name;this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled;this._container=n;this.container.addComponent(new Ue("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){this.checkDestroyed();return this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed();this._automaticDataCollectionEnabled=e}get name(){this.checkDestroyed();return this._name}get options(){this.checkDestroyed();return this._options}get config(){this.checkDestroyed();return this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted){throw yn.create("app-deleted",{appName:this._name})}}}function Sn(e,t){const n=h(e.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${t} is invalid: second part could not be parsed.`);return}const r=JSON.parse(n).exp;if(r===undefined){console.error(`FirebaseServerApp ${t} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3;const o=(new Date).getTime();const a=i-o;if(a<=0){console.error(`FirebaseServerApp ${t} is invalid: the token has expired.`)}}class kn extends _n{constructor(e,t,n,r){const i=t.automaticDataCollectionEnabled!==undefined?t.automaticDataCollectionEnabled:true;const o={name:n,automaticDataCollectionEnabled:i};if(e.apiKey!==undefined){super(e,o,r)}else{const t=e;super(t.options,o,r)}this._serverConfig={automaticDataCollectionEnabled:i,...t};if(this._serverConfig.authIdToken){Sn(this._serverConfig.authIdToken,"authIdToken")}if(this._serverConfig.appCheckToken){Sn(this._serverConfig.appCheckToken,"appCheckToken")}this._finalizationRegistry=null;if(typeof FinalizationRegistry!=="undefined"){this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()}))}this._refCount=0;this.incRefCount(this._serverConfig.releaseOnDeref);this._serverConfig.releaseOnDeref=undefined;t.releaseOnDeref=undefined;Pn(At,Ot,"serverapp")}toJSON(){return undefined}get refCount(){return this._refCount}incRefCount(e){if(this.isDeleted){return}this._refCount++;if(e!==undefined&&this._finalizationRegistry!==null){this._finalizationRegistry.register(e,this)}}decRefCount(){if(this.isDeleted){return 0}return--this._refCount}automaticCleanup(){void On(this)}get settings(){this.checkDestroyed();return this._serverConfig}checkDestroyed(){if(this.isDeleted){throw yn.create("server-app-deleted")}}}const In=null&&rn;function Cn(e,t={}){let n=e;if(typeof t!=="object"){const e=t;t={name:e}}const r={name:on,automaticDataCollectionEnabled:true,...t};const i=r.name;if(typeof i!=="string"||!i){throw yn.create("bad-app-name",{appName:String(i)})}n||(n=I());if(!n){throw yn.create("no-options")}const o=sn.get(i);if(o){if(pe(n,o.options)&&pe(r,o.config)){return o}else{throw yn.create("duplicate-app",{appName:i})}}const a=new Ve(i);for(const e of un.values()){a.addComponent(e)}const s=new _n(n,r,a);sn.set(i,s);return s}function En(e,t={}){if(isBrowser()&&!isWebWorker()){throw yn.create("invalid-server-app-environment")}let n;let r=t||{};if(e){if(gn(e)){n=e.options}else if(vn(e)){r=e}else{n=e}}if(r.automaticDataCollectionEnabled===undefined){r.automaticDataCollectionEnabled=true}n||(n=getDefaultAppConfig());if(!n){throw yn.create("no-options")}const i={...r,...n};if(i.releaseOnDeref!==undefined){delete i.releaseOnDeref}const o=e=>[...e].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0);if(r.releaseOnDeref!==undefined){if(typeof FinalizationRegistry==="undefined"){throw yn.create("finalization-registry-not-supported",{})}}const a=""+o(JSON.stringify(i));const s=cn.get(a);if(s){s.incRefCount(r.releaseOnDeref);return s}const c=new ComponentContainer(a);for(const e of un.values()){c.addComponent(e)}const u=new kn(n,r,a,c);cn.set(a,u);return u}function Mn(e=on){const t=sn.get(e);if(!t&&e===on&&I()){return Cn()}if(!t){throw yn.create("no-app",{appName:e})}return t}function An(){return Array.from(sn.values())}async function On(e){let t=false;const n=e.name;if(sn.has(n)){t=true;sn.delete(n)}else if(cn.has(n)){const r=e;if(r.decRefCount()<=0){cn.delete(n);t=true}}if(t){await Promise.all(e.container.getProviders().map((e=>e.delete())));e.isDeleted=true}}function Pn(e,t,n){let r=an[e]??e;if(n){r+=`-${n}`}const i=r.match(/\s|\//);const o=t.match(/\s|\//);if(i||o){const e=[`Unable to register library "${r}" with version "${t}":`];if(i){e.push(`library name "${r}" contains illegal characters (whitespace or "/")`)}if(i&&o){e.push("and")}if(o){e.push(`version name "${t}" contains illegal characters (whitespace or "/")`)}Pt.warn(e.join(" "));return}dn(new Ue(`${r}-version`,(()=>({library:r,version:t})),"VERSION"))}function Tn(e,t){if(e!==null&&typeof e!=="function"){throw yn.create("invalid-log-argument")}setUserLogHandler(e,t)}function Nn(e){setLogLevel$1(e)}const Dn="firebase-heartbeat-database";const xn=1;const Rn="firebase-heartbeat-store";let Fn=null;function jn(){if(!Fn){Fn=yt(Dn,xn,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Rn)}catch(e){console.warn(e)}}}}).catch((e=>{throw yn.create("idb-open",{originalErrorMessage:e.message})}))}return Fn}async function Bn(e){try{const t=await jn();const n=t.transaction(Rn);const r=await n.objectStore(Rn).get(Wn(e));await n.done;return r}catch(e){if(e instanceof Y){Pt.warn(e.message)}else{const t=yn.create("idb-get",{originalErrorMessage:e?.message});Pt.warn(t.message)}}}async function Ln(e,t){try{const n=await jn();const r=n.transaction(Rn,"readwrite");const i=r.objectStore(Rn);await i.put(t,Wn(e));await r.done}catch(e){if(e instanceof Y){Pt.warn(e.message)}else{const t=yn.create("idb-set",{originalErrorMessage:e?.message});Pt.warn(t.message)}}}function Wn(e){return`${e.name}!${e.options.appId}`}const Un=1024;const zn=30;class Hn{constructor(e){this.container=e;this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Vn(t);this._heartbeatsCachePromise=this._storage.read().then((e=>{this._heartbeatsCache=e;return e}))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate();const t=e.getPlatformInfoString();const n=Kn();if(this._heartbeatsCache?.heartbeats==null){this._heartbeatsCache=await this._heartbeatsCachePromise;if(this._heartbeatsCache?.heartbeats==null){return}}if(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some((e=>e.date===n))){return}else{this._heartbeatsCache.heartbeats.push({date:n,agent:t});if(this._heartbeatsCache.heartbeats.length>zn){const e=Gn(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Pt.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null){await this._heartbeatsCachePromise}if(this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0){return""}const e=Kn();const{heartbeatsToSend:t,unsentEntries:n}=$n(this._heartbeatsCache.heartbeats);const r=d(JSON.stringify({version:2,heartbeats:t}));this._heartbeatsCache.lastSentHeartbeatDate=e;if(n.length>0){this._heartbeatsCache.heartbeats=n;await this._storage.overwrite(this._heartbeatsCache)}else{this._heartbeatsCache.heartbeats=[];void this._storage.overwrite(this._heartbeatsCache)}return r}catch(e){Pt.warn(e);return""}}}function Kn(){const e=new Date;return e.toISOString().substring(0,10)}function $n(e,t=Un){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(!e){n.push({agent:i.agent,dates:[i.date]});if(qn(n)>t){n.pop();break}}else{e.dates.push(i.date);if(qn(n)>t){e.dates.pop();break}}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Vn{constructor(e){this.app=e;this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){if(!J()){return false}else{return X().then((()=>true)).catch((()=>false))}}async read(){const e=await this._canUseIndexedDBPromise;if(!e){return{heartbeats:[]}}else{const e=await Bn(this.app);if(e?.heartbeats){return e}else{return{heartbeats:[]}}}}async overwrite(e){const t=await this._canUseIndexedDBPromise;if(!t){return}else{const t=await this.read();return Ln(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){const t=await this._canUseIndexedDBPromise;if(!t){return}else{const t=await this.read();return Ln(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function qn(e){return d(JSON.stringify({version:2,heartbeats:e})).length}function Gn(e){if(e.length===0){return-1}let t=0;let n=e[0].date;for(let r=1;r<e.length;r++){if(e[r].date<n){n=e[r].date;t=r}}return t}function Jn(e){dn(new Ue("platform-logger",(e=>new Et(e)),"PRIVATE"));dn(new Ue("heartbeat",(e=>new Hn(e)),"PRIVATE"));Pn(At,Ot,e);Pn(At,Ot,"esm2020");Pn("fire-js","")}Jn("");const Xn="@firebase/installations";const Qn="0.6.19";const Zn=1e4;const Yn=`w:${Qn}`;const er="FIS_v2";const tr="https://firebaseinstallations.googleapis.com/v1";const nr=60*60*1e3;const rr="installations";const ir="Installations";const or={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."};const ar=new ee(rr,ir,or);function sr(e){return e instanceof Y&&e.code.includes("request-failed")}function cr({projectId:e}){return`${tr}/projects/${e}/installations`}function ur(e){return{token:e.token,requestStatus:2,expiresIn:pr(e.expiresIn),creationTime:Date.now()}}async function fr(e,t){const n=await t.json();const r=n.error;return ar.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function lr({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function dr(e,{refreshToken:t}){const n=lr(e);n.append("Authorization",gr(t));return n}async function hr(e){const t=await e();if(t.status>=500&&t.status<600){return e()}return t}function pr(e){return Number(e.replace("s","000"))}function gr(e){return`${er} ${e}`}async function vr({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=cr(e);const i=lr(e);const o=t.getImmediate({optional:true});if(o){const e=await o.getHeartbeatsHeader();if(e){i.append("x-firebase-client",e)}}const a={fid:n,authVersion:er,appId:e.appId,sdkVersion:Yn};const s={method:"POST",headers:i,body:JSON.stringify(a)};const c=await hr((()=>fetch(r,s)));if(c.ok){const e=await c.json();const t={fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:ur(e.authToken)};return t}else{throw await fr("Create Installation",c)}}function br(e){return new Promise((t=>{setTimeout(t,e)}))}function mr(e){const t=btoa(String.fromCharCode(...e));return t.replace(/\+/g,"-").replace(/\//g,"_")}const wr=/^[cdef][\w-]{21}$/;const yr="";function _r(){try{const e=new Uint8Array(17);const t=self.crypto||self.msCrypto;t.getRandomValues(e);e[0]=112+e[0]%16;const n=Sr(e);return wr.test(n)?n:yr}catch{return yr}}function Sr(e){const t=mr(e);return t.substr(0,22)}function kr(e){return`${e.appName}!${e.appId}`}const Ir=new Map;function Cr(e,t){const n=kr(e);Ar(n,t);Or(n,t)}function Er(e,t){Tr();const n=kr(e);let r=Ir.get(n);if(!r){r=new Set;Ir.set(n,r)}r.add(t)}function Mr(e,t){const n=kr(e);const r=Ir.get(n);if(!r){return}r.delete(t);if(r.size===0){Ir.delete(n)}Nr()}function Ar(e,t){const n=Ir.get(e);if(!n){return}for(const e of n){e(t)}}function Or(e,t){const n=Tr();if(n){n.postMessage({key:e,fid:t})}Nr()}let Pr=null;function Tr(){if(!Pr&&"BroadcastChannel"in self){Pr=new BroadcastChannel("[Firebase] FID Change");Pr.onmessage=e=>{Ar(e.data.key,e.data.fid)}}return Pr}function Nr(){if(Ir.size===0&&Pr){Pr.close();Pr=null}}const Dr="firebase-installations-database";const xr=1;const Rr="firebase-installations-store";let Fr=null;function jr(){if(!Fr){Fr=yt(Dr,xr,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Rr)}}})}return Fr}async function Br(e,t){const n=kr(e);const r=await jr();const i=r.transaction(Rr,"readwrite");const o=i.objectStore(Rr);const a=await o.get(n);await o.put(t,n);await i.done;if(!a||a.fid!==t.fid){Cr(e,t.fid)}return t}async function Lr(e){const t=kr(e);const n=await jr();const r=n.transaction(Rr,"readwrite");await r.objectStore(Rr).delete(t);await r.done}async function Wr(e,t){const n=kr(e);const r=await jr();const i=r.transaction(Rr,"readwrite");const o=i.objectStore(Rr);const a=await o.get(n);const s=t(a);if(s===undefined){await o.delete(n)}else{await o.put(s,n)}await i.done;if(s&&(!a||a.fid!==s.fid)){Cr(e,s.fid)}return s}async function Ur(e){let t;const n=await Wr(e.appConfig,(n=>{const r=zr(n);const i=Hr(e,r);t=i.registrationPromise;return i.installationEntry}));if(n.fid===yr){return{installationEntry:await t}}return{installationEntry:n,registrationPromise:t}}function zr(e){const t=e||{fid:_r(),registrationStatus:0};return qr(t)}function Hr(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const e=Promise.reject(ar.create("app-offline"));return{installationEntry:t,registrationPromise:e}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};const r=Kr(e,n);return{installationEntry:n,registrationPromise:r}}else if(t.registrationStatus===1){return{installationEntry:t,registrationPromise:$r(e)}}else{return{installationEntry:t}}}async function Kr(e,t){try{const n=await vr(e,t);return Br(e.appConfig,n)}catch(n){if(sr(n)&&n.customData.serverCode===409){await Lr(e.appConfig)}else{await Br(e.appConfig,{fid:t.fid,registrationStatus:0})}throw n}}async function $r(e){let t=await Vr(e.appConfig);while(t.registrationStatus===1){await br(100);t=await Vr(e.appConfig)}if(t.registrationStatus===0){const{installationEntry:t,registrationPromise:n}=await Ur(e);if(n){return n}else{return t}}return t}function Vr(e){return Wr(e,(e=>{if(!e){throw ar.create("installation-not-found")}return qr(e)}))}function qr(e){if(Gr(e)){return{fid:e.fid,registrationStatus:0}}return e}function Gr(e){return e.registrationStatus===1&&e.registrationTime+Zn<Date.now()}async function Jr({appConfig:e,heartbeatServiceProvider:t},n){const r=Xr(e,n);const i=dr(e,n);const o=t.getImmediate({optional:true});if(o){const e=await o.getHeartbeatsHeader();if(e){i.append("x-firebase-client",e)}}const a={installation:{sdkVersion:Yn,appId:e.appId}};const s={method:"POST",headers:i,body:JSON.stringify(a)};const c=await hr((()=>fetch(r,s)));if(c.ok){const e=await c.json();const t=ur(e);return t}else{throw await fr("Generate Auth Token",c)}}function Xr(e,{fid:t}){return`${cr(e)}/${t}/authTokens:generate`}async function Qr(e,t=false){let n;const r=await Wr(e.appConfig,(r=>{if(!ti(r)){throw ar.create("not-registered")}const i=r.authToken;if(!t&&ni(i)){return r}else if(i.requestStatus===1){n=Zr(e,t);return r}else{if(!navigator.onLine){throw ar.create("app-offline")}const t=ii(r);n=ei(e,t);return t}}));const i=n?await n:r.authToken;return i}async function Zr(e,t){let n=await Yr(e.appConfig);while(n.authToken.requestStatus===1){await br(100);n=await Yr(e.appConfig)}const r=n.authToken;if(r.requestStatus===0){return Qr(e,t)}else{return r}}function Yr(e){return Wr(e,(e=>{if(!ti(e)){throw ar.create("not-registered")}const t=e.authToken;if(oi(t)){return{...e,authToken:{requestStatus:0}}}return e}))}async function ei(e,t){try{const n=await Jr(e,t);const r={...t,authToken:n};await Br(e.appConfig,r);return n}catch(n){if(sr(n)&&(n.customData.serverCode===401||n.customData.serverCode===404)){await Lr(e.appConfig)}else{const n={...t,authToken:{requestStatus:0}};await Br(e.appConfig,n)}throw n}}function ti(e){return e!==undefined&&e.registrationStatus===2}function ni(e){return e.requestStatus===2&&!ri(e)}function ri(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+nr}function ii(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function oi(e){return e.requestStatus===1&&e.requestTime+Zn<Date.now()}async function ai(e){const t=e;const{installationEntry:n,registrationPromise:r}=await Ur(t);if(r){r.catch(console.error)}else{Qr(t).catch(console.error)}return n.fid}async function si(e,t=false){const n=e;await ci(n);const r=await Qr(n,t);return r.token}async function ci(e){const{registrationPromise:t}=await Ur(e);if(t){await t}}async function ui(e,t){const n=fi(e,t);const r=dr(e,t);const i={method:"DELETE",headers:r};const o=await hr((()=>fetch(n,i)));if(!o.ok){throw await fr("Delete Installation",o)}}function fi(e,{fid:t}){return`${cr(e)}/${t}`}async function li(e){const{appConfig:t}=e;const n=await Wr(t,(e=>{if(e&&e.registrationStatus===0){return undefined}return e}));if(n){if(n.registrationStatus===1){throw ar.create("delete-pending-registration")}else if(n.registrationStatus===2){if(!navigator.onLine){throw ar.create("app-offline")}else{await ui(t,n);await Lr(t)}}}}function di(e,t){const{appConfig:n}=e;Er(n,t);return()=>{Mr(n,t)}}function hi(e=getApp()){const t=_getProvider(e,"installations").getImmediate();return t}function pi(e){if(!e||!e.options){throw gi("App Configuration")}if(!e.name){throw gi("App Name")}const t=["projectId","apiKey","appId"];for(const n of t){if(!e.options[n]){throw gi(n)}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function gi(e){return ar.create("missing-app-config-values",{valueName:e})}const vi="installations";const bi="installations-internal";const mi=e=>{const t=e.getProvider("app").getImmediate();const n=pi(t);const r=hn(t,"heartbeat");const i={app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()};return i};const wi=e=>{const t=e.getProvider("app").getImmediate();const n=hn(t,vi).getImmediate();const r={getId:()=>ai(n),getToken:e=>si(n,e)};return r};function yi(){dn(new Ue(vi,mi,"PUBLIC"));dn(new Ue(bi,wi,"PRIVATE"))}yi();Pn(Xn,Qn);Pn(Xn,Qn,"esm2020");const _i="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";const Si="https://fcmregistrations.googleapis.com/v1";const ki="FCM_MSG";const Ii="google.c.a.c_id";const Ci=3;const Ei=1;var Mi;(function(e){e[e["DATA_MESSAGE"]=1]="DATA_MESSAGE";e[e["DISPLAY_NOTIFICATION"]=3]="DISPLAY_NOTIFICATION"})(Mi||(Mi={}));var Ai;(function(e){e["PUSH_RECEIVED"]="push-received";e["NOTIFICATION_CLICKED"]="notification-clicked"})(Ai||(Ai={}));function Oi(e){const t=new Uint8Array(e);const n=btoa(String.fromCharCode(...t));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Pi(e){const t="=".repeat((4-e.length%4)%4);const n=(e+t).replace(/\-/g,"+").replace(/_/g,"/");const r=atob(n);const i=new Uint8Array(r.length);for(let e=0;e<r.length;++e){i[e]=r.charCodeAt(e)}return i}const Ti="fcm_token_details_db";const Ni=5;const Di="fcm_token_object_Store";async function xi(e){if("databases"in indexedDB){const e=await indexedDB.databases();const t=e.map((e=>e.name));if(!t.includes(Ti)){return null}}let t=null;const n=await yt(Ti,Ni,{upgrade:async(n,r,i,o)=>{if(r<2){return}if(!n.objectStoreNames.contains(Di)){return}const a=o.objectStore(Di);const s=await a.index("fcmSenderId").get(e);await a.clear();if(!s){return}if(r===2){const e=s;if(!e.auth||!e.p256dh||!e.endpoint){return}t={token:e.fcmToken,createTime:e.createTime??Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:typeof e.vapidKey==="string"?e.vapidKey:Oi(e.vapidKey)}}}else if(r===3){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Oi(e.auth),p256dh:Oi(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Oi(e.vapidKey)}}}else if(r===4){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Oi(e.auth),p256dh:Oi(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Oi(e.vapidKey)}}}}});n.close();await _t(Ti);await _t("fcm_vapid_details_db");await _t("undefined");return Ri(t)?t:null}function Ri(e){if(!e||!e.subscriptionOptions){return false}const{subscriptionOptions:t}=e;return typeof e.createTime==="number"&&e.createTime>0&&typeof e.token==="string"&&e.token.length>0&&typeof t.auth==="string"&&t.auth.length>0&&typeof t.p256dh==="string"&&t.p256dh.length>0&&typeof t.endpoint==="string"&&t.endpoint.length>0&&typeof t.swScope==="string"&&t.swScope.length>0&&typeof t.vapidKey==="string"&&t.vapidKey.length>0}const Fi="firebase-messaging-database";const ji=1;const Bi="firebase-messaging-store";let Li=null;function Wi(){if(!Li){Li=yt(Fi,ji,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Bi)}}})}return Li}async function Ui(e){const t=Ki(e);const n=await Wi();const r=await n.transaction(Bi).objectStore(Bi).get(t);if(r){return r}else{const t=await xi(e.appConfig.senderId);if(t){await zi(e,t);return t}}}async function zi(e,t){const n=Ki(e);const r=await Wi();const i=r.transaction(Bi,"readwrite");await i.objectStore(Bi).put(t,n);await i.done;return t}async function Hi(e){const t=Ki(e);const n=await Wi();const r=n.transaction(Bi,"readwrite");await r.objectStore(Bi).delete(t);await r.done}function Ki({appConfig:e}){return e.appId}const $i={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["only-available-in-window"]:"This method is available in a Window context.",["only-available-in-sw"]:"This method is available in a service worker context.",["permission-default"]:"The notification permission was not granted and dismissed instead.",["permission-blocked"]:"The notification permission was not granted and blocked instead.",["unsupported-browser"]:"This browser doesn't support the API's required to use the Firebase SDK.",["indexed-db-unsupported"]:"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)",["failed-service-worker-registration"]:"We are unable to register the default service worker. {$browserErrorMessage}",["token-subscribe-failed"]:"A problem occurred while subscribing the user to FCM: {$errorInfo}",["token-subscribe-no-token"]:"FCM returned no token when subscribing the user to push.",["token-unsubscribe-failed"]:"A problem occurred while unsubscribing the "+"user from FCM: {$errorInfo}",["token-update-failed"]:"A problem occurred while updating the user from FCM: {$errorInfo}",["token-update-no-token"]:"FCM returned no token when updating the user to push.",["use-sw-after-get-token"]:"The useServiceWorker() method may only be called once and must be "+"called before calling getToken() to ensure your service worker is used.",["invalid-sw-registration"]:"The input to useServiceWorker() must be a ServiceWorkerRegistration.",["invalid-bg-handler"]:"The input to setBackgroundMessageHandler() must be a function.",["invalid-vapid-key"]:"The public VAPID key must be a string.",["use-vapid-key-after-get-token"]:"The usePublicVapidKey() method may only be called once and must be "+"called before calling getToken() to ensure your VAPID key is used."};const Vi=new ee("messaging","Messaging",$i);async function qi(e,t){const n=await Qi(e);const r=Zi(t);const i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{const t=await fetch(Xi(e.appConfig),i);o=await t.json()}catch(e){throw Vi.create("token-subscribe-failed",{errorInfo:e?.toString()})}if(o.error){const e=o.error.message;throw Vi.create("token-subscribe-failed",{errorInfo:e})}if(!o.token){throw Vi.create("token-subscribe-no-token")}return o.token}async function Gi(e,t){const n=await Qi(e);const r=Zi(t.subscriptionOptions);const i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{const n=await fetch(`${Xi(e.appConfig)}/${t.token}`,i);o=await n.json()}catch(e){throw Vi.create("token-update-failed",{errorInfo:e?.toString()})}if(o.error){const e=o.error.message;throw Vi.create("token-update-failed",{errorInfo:e})}if(!o.token){throw Vi.create("token-update-no-token")}return o.token}async function Ji(e,t){const n=await Qi(e);const r={method:"DELETE",headers:n};try{const n=await fetch(`${Xi(e.appConfig)}/${t}`,r);const i=await n.json();if(i.error){const e=i.error.message;throw Vi.create("token-unsubscribe-failed",{errorInfo:e})}}catch(e){throw Vi.create("token-unsubscribe-failed",{errorInfo:e?.toString()})}}function Xi({projectId:e}){return`${Si}/projects/${e}/registrations`}async function Qi({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Zi({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};if(r!==_i){i.web.applicationPubKey=r}return i}const Yi=7*24*60*60*1e3;async function eo(e){const t=await io(e.swRegistration,e.vapidKey);const n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Oi(t.getKey("auth")),p256dh:Oi(t.getKey("p256dh"))};const r=await Ui(e.firebaseDependencies);if(!r){return ro(e.firebaseDependencies,n)}else if(!oo(r.subscriptionOptions,n)){try{await Ji(e.firebaseDependencies,r.token)}catch(e){console.warn(e)}return ro(e.firebaseDependencies,n)}else if(Date.now()>=r.createTime+Yi){return no(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n})}else{return r.token}}async function to(e){const t=await Ui(e.firebaseDependencies);if(t){await Ji(e.firebaseDependencies,t.token);await Hi(e.firebaseDependencies)}const n=await e.swRegistration.pushManager.getSubscription();if(n){return n.unsubscribe()}return true}async function no(e,t){try{const n=await Gi(e.firebaseDependencies,t);const r={...t,token:n,createTime:Date.now()};await zi(e.firebaseDependencies,r);return n}catch(e){throw e}}async function ro(e,t){const n=await qi(e,t);const r={token:n,createTime:Date.now(),subscriptionOptions:t};await zi(e,r);return r.token}async function io(e,t){const n=await e.pushManager.getSubscription();if(n){return n}return e.pushManager.subscribe({userVisibleOnly:true,applicationServerKey:Pi(t)})}function oo(e,t){const n=t.vapidKey===e.vapidKey;const r=t.endpoint===e.endpoint;const i=t.auth===e.auth;const o=t.p256dh===e.p256dh;return n&&r&&i&&o}function ao(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};so(t,e);co(t,e);uo(t,e);return t}function so(e,t){if(!t.notification){return}e.notification={};const n=t.notification.title;if(!!n){e.notification.title=n}const r=t.notification.body;if(!!r){e.notification.body=r}const i=t.notification.image;if(!!i){e.notification.image=i}const o=t.notification.icon;if(!!o){e.notification.icon=o}}function co(e,t){if(!t.data){return}e.data=t.data}function uo(e,t){if(!t.fcmOptions&&!t.notification?.click_action){return}e.fcmOptions={};const n=t.fcmOptions?.link??t.notification?.click_action;if(!!n){e.fcmOptions.link=n}const r=t.fcmOptions?.analytics_label;if(!!r){e.fcmOptions.analyticsLabel=r}}function fo(e){return typeof e==="object"&&!!e&&Ii in e}function lo(e){return new Promise((t=>{setTimeout(t,e)}))}bo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");async function ho(e,t){const n=po(t,await e.firebaseDependencies.installations.getId());go(e,n,t.productId)}function po(e,t){const n={};if(!!e.from){n.project_number=e.from}if(!!e.fcmMessageId){n.message_id=e.fcmMessageId}n.instance_id=t;if(!!e.notification){n.message_type=Mi.DISPLAY_NOTIFICATION.toString()}else{n.message_type=Mi.DATA_MESSAGE.toString()}n.sdk_platform=Ci.toString();n.package_name=self.origin.replace(/(^\w+:|^)\/\//,"");if(!!e.collapse_key){n.collapse_key=e.collapse_key}n.event=Ei.toString();if(!!e.fcmOptions?.analytics_label){n.analytics_label=e.fcmOptions?.analytics_label}return n}function go(e,t,n){const r={};r.event_time_ms=Math.floor(Date.now()).toString();r.source_extension_json_proto3=JSON.stringify({messaging_client_event:t});if(!!n){r.compliance_data=vo(n)}e.logEvents.push(r)}function vo(e){const t={privacy_context:{prequest:{origin_associated_product_id:e}}};return t}function bo(e,t){const n=[];for(let r=0;r<e.length;r++){n.push(e.charAt(r));if(r<t.length){n.push(t.charAt(r))}}return n.join("")}async function mo(e,t){const{newSubscription:n}=e;if(!n){await to(t);return}const r=await Ui(t.firebaseDependencies);await to(t);t.vapidKey=r?.subscriptionOptions?.vapidKey??_i;await eo(t)}async function wo(e,t){const n=So(e);if(!n){return}if(t.deliveryMetricsExportedToBigQueryEnabled){await ho(t,n)}const r=await Eo();if(Io(r)){return Co(r,n)}if(!!n.notification){await Mo(_o(n))}if(!t){return}if(!!t.onBackgroundMessageHandler){const e=ao(n);if(typeof t.onBackgroundMessageHandler==="function"){await t.onBackgroundMessageHandler(e)}else{t.onBackgroundMessageHandler.next(e)}}}async function yo(e){const t=e.notification?.data?.[ki];if(!t){return}else if(e.action){return}e.stopImmediatePropagation();e.notification.close();const n=Ao(t);if(!n){return}const r=new URL(n,self.location.href);const i=new URL(self.location.origin);if(r.host!==i.host){return}let o=await ko(r);if(!o){o=await self.clients.openWindow(n);await lo(3e3)}else{o=await o.focus()}if(!o){return}t.messageType=Ai.NOTIFICATION_CLICKED;t.isFirebaseMessaging=true;return o.postMessage(t)}function _o(e){const t={...e.notification};t.data={[ki]:e};return t}function So({data:e}){if(!e){return null}try{return e.json()}catch(e){return null}}async function ko(e){const t=await Eo();for(const n of t){const t=new URL(n.url,self.location.href);if(e.host===t.host){return n}}return null}function Io(e){return e.some((e=>e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://")))}function Co(e,t){t.isFirebaseMessaging=true;t.messageType=Ai.PUSH_RECEIVED;for(const n of e){n.postMessage(t)}}function Eo(){return self.clients.matchAll({type:"window",includeUncontrolled:true})}function Mo(e){const{actions:t}=e;const{maxActions:n}=Notification;if(t&&n&&t.length>n){console.warn(`This browser only supports ${n} actions. The remaining actions will not be displayed.`)}return self.registration.showNotification(e.title??"",e)}function Ao(e){const t=e.fcmOptions?.link??e.notification?.click_action;if(t){return t}if(fo(e.data)){return self.location.origin}else{return null}}function Oo(e){if(!e||!e.options){throw Po("App Configuration Object")}if(!e.name){throw Po("App Name")}const t=["projectId","apiKey","appId","messagingSenderId"];const{options:n}=e;for(const e of t){if(!n[e]){throw Po(e)}}return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Po(e){return Vi.create("missing-app-config-values",{valueName:e})}class To{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=false;this.onBackgroundMessageHandler=null;this.onMessageHandler=null;this.logEvents=[];this.isLogServiceStarted=false;const r=Oo(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}const No=e=>{const t=new To(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));self.addEventListener("push",(e=>{e.waitUntil(wo(e,t))}));self.addEventListener("pushsubscriptionchange",(e=>{e.waitUntil(mo(e,t))}));self.addEventListener("notificationclick",(e=>{e.waitUntil(yo(e))}));return t};function Do(){dn(new Ue("messaging-sw",No,"PUBLIC"))}async function xo(){return J()&&await X()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function Ro(e,t){if(self.document!==undefined){throw Vi.create("only-available-in-sw")}e.onBackgroundMessageHandler=t;return()=>{e.onBackgroundMessageHandler=null}}function Fo(e,t){e.deliveryMetricsExportedToBigQueryEnabled=t}function jo(e=Mn()){xo().then((e=>{if(!e){throw Vi.create("unsupported-browser")}}),(e=>{throw Vi.create("indexed-db-unsupported")}));return hn(We(e),"messaging-sw").getImmediate()}function Bo(e,t){e=We(e);return Ro(e,t)}function Lo(e,t){e=getModularInstance(e);return Fo(e,t)}Do();var Wo=undefined&&undefined.__assign||function(){Wo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))e[i]=t[i]}return e};return Wo.apply(this,arguments)};var Uo="https://";var zo={debug:"true"==="true",isTest:"false"==="true",resourceToken:"2gFE1SuJ4eJj-08a78b7b3baddce7",apiServerHost:"pxl-dt5mvmx1epcv31k8.dev.altcraft.com",swPath:"/service-worker.js",vapidKey:"BEFQ4t1xrOGbkOnjSUAfXlJjJTizJ5kawtp4eqwb0-UFl1tC9OyHqziOuXpoOkQPxCtPygNMtOtqhjnUOXRwYec",firebase:{apiKey:"AIzaSyDXiesYo-Xo9dBxKX33uU_QrvZNDYTWxZA",projectId:"pwa-push-4bd9a",messagingSenderId:"1002622720147",appId:"1:1002622720147:web:da6f0e9abb83a3e1b75566"},browsers:{Chrome:{isFirebase:"true"==="true"},Firefox:{isFirebase:"true"==="true"},Opera:{isFirebase:"true"==="true"},"Yandex Browser":{isFirebase:"true"==="true"},"Samsung Internet for Android":{isFirebase:"true"==="true"},Safari:{websitePushID:"web.io.github.romanglazkov",websitePushAPI:"https://pxl-dt5mvmx1epcv31k8.dev.altcraft.com/ap"}},expirationSWChrome:"900"};var Ho={randomPrefix:"Shahkoop2aeleiv8Ierief_",serverPrefix:Uo,serverActionHandlers:{save:"/pixel?_push_pix=/push/subscription/save",delete:"/pixel?_push_pix=/push/subscription/delete",update:"/pixel?_push_pix=/push/subscription/update",suspend:"/pixel?_push_pix=/push/subscription/suspend"},serverCookiePath:"/pixel?_push_pix=/set_cookie_only",serverPushContentPath:"/pixel?_push_pix=/push/content/get",serverURL:(Uo+zo.apiServerHost).replace(/\/+$/,""),swPath:"/service-worker.js",isTest:false,cookieID:"",browser:undefined,firebase:{authSubdomain:"firebaseapp.com",bucketSubdomain:"appspot.com",dbSubdomain:"firebaseio.com"},allFirebase:undefined};var Ko=Wo(Wo(Wo({},Ho),zo),{firebase:Wo(Wo({},Ho.firebase),zo.firebase),expirationSWChrome:parseInt(zo.expirationSWChrome,10)||0});const $o=Ko;var Vo=n(160);var qo=n.n(Vo);var Go=n(880);var Jo=n(790);const Xo="/firebase-messaging-sw.js";const Qo="/firebase-cloud-messaging-push-scope";const Zo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";const Yo="https://fcmregistrations.googleapis.com/v1";const ea="google.c.a.c_id";const ta="google.c.a.c_l";const na="google.c.a.ts";const ra="google.c.a.e";const ia=1e4;var oa;(function(e){e[e["DATA_MESSAGE"]=1]="DATA_MESSAGE";e[e["DISPLAY_NOTIFICATION"]=3]="DISPLAY_NOTIFICATION"})(oa||(oa={}));var aa;(function(e){e["PUSH_RECEIVED"]="push-received";e["NOTIFICATION_CLICKED"]="notification-clicked"})(aa||(aa={}));function sa(e){const t=new Uint8Array(e);const n=btoa(String.fromCharCode(...t));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ca(e){const t="=".repeat((4-e.length%4)%4);const n=(e+t).replace(/\-/g,"+").replace(/_/g,"/");const r=atob(n);const i=new Uint8Array(r.length);for(let e=0;e<r.length;++e){i[e]=r.charCodeAt(e)}return i}const ua="fcm_token_details_db";const fa=5;const la="fcm_token_object_Store";async function da(e){if("databases"in indexedDB){const e=await indexedDB.databases();const t=e.map((e=>e.name));if(!t.includes(ua)){return null}}let t=null;const n=await yt(ua,fa,{upgrade:async(n,r,i,o)=>{if(r<2){return}if(!n.objectStoreNames.contains(la)){return}const a=o.objectStore(la);const s=await a.index("fcmSenderId").get(e);await a.clear();if(!s){return}if(r===2){const e=s;if(!e.auth||!e.p256dh||!e.endpoint){return}t={token:e.fcmToken,createTime:e.createTime??Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:typeof e.vapidKey==="string"?e.vapidKey:sa(e.vapidKey)}}}else if(r===3){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:sa(e.auth),p256dh:sa(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:sa(e.vapidKey)}}}else if(r===4){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:sa(e.auth),p256dh:sa(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:sa(e.vapidKey)}}}}});n.close();await _t(ua);await _t("fcm_vapid_details_db");await _t("undefined");return ha(t)?t:null}function ha(e){if(!e||!e.subscriptionOptions){return false}const{subscriptionOptions:t}=e;return typeof e.createTime==="number"&&e.createTime>0&&typeof e.token==="string"&&e.token.length>0&&typeof t.auth==="string"&&t.auth.length>0&&typeof t.p256dh==="string"&&t.p256dh.length>0&&typeof t.endpoint==="string"&&t.endpoint.length>0&&typeof t.swScope==="string"&&t.swScope.length>0&&typeof t.vapidKey==="string"&&t.vapidKey.length>0}const pa="firebase-messaging-database";const ga=1;const va="firebase-messaging-store";let ba=null;function ma(){if(!ba){ba=yt(pa,ga,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(va)}}})}return ba}async function wa(e){const t=Sa(e);const n=await ma();const r=await n.transaction(va).objectStore(va).get(t);if(r){return r}else{const t=await da(e.appConfig.senderId);if(t){await ya(e,t);return t}}}async function ya(e,t){const n=Sa(e);const r=await ma();const i=r.transaction(va,"readwrite");await i.objectStore(va).put(t,n);await i.done;return t}async function _a(e){const t=Sa(e);const n=await ma();const r=n.transaction(va,"readwrite");await r.objectStore(va).delete(t);await r.done}function Sa({appConfig:e}){return e.appId}const ka={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["only-available-in-window"]:"This method is available in a Window context.",["only-available-in-sw"]:"This method is available in a service worker context.",["permission-default"]:"The notification permission was not granted and dismissed instead.",["permission-blocked"]:"The notification permission was not granted and blocked instead.",["unsupported-browser"]:"This browser doesn't support the API's required to use the Firebase SDK.",["indexed-db-unsupported"]:"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)",["failed-service-worker-registration"]:"We are unable to register the default service worker. {$browserErrorMessage}",["token-subscribe-failed"]:"A problem occurred while subscribing the user to FCM: {$errorInfo}",["token-subscribe-no-token"]:"FCM returned no token when subscribing the user to push.",["token-unsubscribe-failed"]:"A problem occurred while unsubscribing the "+"user from FCM: {$errorInfo}",["token-update-failed"]:"A problem occurred while updating the user from FCM: {$errorInfo}",["token-update-no-token"]:"FCM returned no token when updating the user to push.",["use-sw-after-get-token"]:"The useServiceWorker() method may only be called once and must be "+"called before calling getToken() to ensure your service worker is used.",["invalid-sw-registration"]:"The input to useServiceWorker() must be a ServiceWorkerRegistration.",["invalid-bg-handler"]:"The input to setBackgroundMessageHandler() must be a function.",["invalid-vapid-key"]:"The public VAPID key must be a string.",["use-vapid-key-after-get-token"]:"The usePublicVapidKey() method may only be called once and must be "+"called before calling getToken() to ensure your VAPID key is used."};const Ia=new ee("messaging","Messaging",ka);async function Ca(e,t){const n=await Oa(e);const r=Pa(t);const i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{const t=await fetch(Aa(e.appConfig),i);o=await t.json()}catch(e){throw Ia.create("token-subscribe-failed",{errorInfo:e?.toString()})}if(o.error){const e=o.error.message;throw Ia.create("token-subscribe-failed",{errorInfo:e})}if(!o.token){throw Ia.create("token-subscribe-no-token")}return o.token}async function Ea(e,t){const n=await Oa(e);const r=Pa(t.subscriptionOptions);const i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{const n=await fetch(`${Aa(e.appConfig)}/${t.token}`,i);o=await n.json()}catch(e){throw Ia.create("token-update-failed",{errorInfo:e?.toString()})}if(o.error){const e=o.error.message;throw Ia.create("token-update-failed",{errorInfo:e})}if(!o.token){throw Ia.create("token-update-no-token")}return o.token}async function Ma(e,t){const n=await Oa(e);const r={method:"DELETE",headers:n};try{const n=await fetch(`${Aa(e.appConfig)}/${t}`,r);const i=await n.json();if(i.error){const e=i.error.message;throw Ia.create("token-unsubscribe-failed",{errorInfo:e})}}catch(e){throw Ia.create("token-unsubscribe-failed",{errorInfo:e?.toString()})}}function Aa({projectId:e}){return`${Yo}/projects/${e}/registrations`}async function Oa({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Pa({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};if(r!==Zo){i.web.applicationPubKey=r}return i}const Ta=7*24*60*60*1e3;async function Na(e){const t=await Fa(e.swRegistration,e.vapidKey);const n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:sa(t.getKey("auth")),p256dh:sa(t.getKey("p256dh"))};const r=await wa(e.firebaseDependencies);if(!r){return Ra(e.firebaseDependencies,n)}else if(!ja(r.subscriptionOptions,n)){try{await Ma(e.firebaseDependencies,r.token)}catch(e){console.warn(e)}return Ra(e.firebaseDependencies,n)}else if(Date.now()>=r.createTime+Ta){return xa(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n})}else{return r.token}}async function Da(e){const t=await wa(e.firebaseDependencies);if(t){await Ma(e.firebaseDependencies,t.token);await _a(e.firebaseDependencies)}const n=await e.swRegistration.pushManager.getSubscription();if(n){return n.unsubscribe()}return true}async function xa(e,t){try{const n=await Ea(e.firebaseDependencies,t);const r={...t,token:n,createTime:Date.now()};await ya(e.firebaseDependencies,r);return n}catch(e){throw e}}async function Ra(e,t){const n=await Ca(e,t);const r={token:n,createTime:Date.now(),subscriptionOptions:t};await ya(e,r);return r.token}async function Fa(e,t){const n=await e.pushManager.getSubscription();if(n){return n}return e.pushManager.subscribe({userVisibleOnly:true,applicationServerKey:ca(t)})}function ja(e,t){const n=t.vapidKey===e.vapidKey;const r=t.endpoint===e.endpoint;const i=t.auth===e.auth;const o=t.p256dh===e.p256dh;return n&&r&&i&&o}function Ba(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};La(t,e);Wa(t,e);Ua(t,e);return t}function La(e,t){if(!t.notification){return}e.notification={};const n=t.notification.title;if(!!n){e.notification.title=n}const r=t.notification.body;if(!!r){e.notification.body=r}const i=t.notification.image;if(!!i){e.notification.image=i}const o=t.notification.icon;if(!!o){e.notification.icon=o}}function Wa(e,t){if(!t.data){return}e.data=t.data}function Ua(e,t){if(!t.fcmOptions&&!t.notification?.click_action){return}e.fcmOptions={};const n=t.fcmOptions?.link??t.notification?.click_action;if(!!n){e.fcmOptions.link=n}const r=t.fcmOptions?.analytics_label;if(!!r){e.fcmOptions.analyticsLabel=r}}function za(e){return typeof e==="object"&&!!e&&ea in e}Ha("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function Ha(e,t){const n=[];for(let r=0;r<e.length;r++){n.push(e.charAt(r));if(r<t.length){n.push(t.charAt(r))}}return n.join("")}function Ka(e){if(!e||!e.options){throw $a("App Configuration Object")}if(!e.name){throw $a("App Name")}const t=["projectId","apiKey","appId","messagingSenderId"];const{options:n}=e;for(const e of t){if(!n[e]){throw $a(e)}}return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function $a(e){return Ia.create("missing-app-config-values",{valueName:e})}class Va{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=false;this.onBackgroundMessageHandler=null;this.onMessageHandler=null;this.logEvents=[];this.isLogServiceStarted=false;const r=Ka(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function qa(e){try{e.swRegistration=await navigator.serviceWorker.register(Xo,{scope:Qo});e.swRegistration.update().catch((()=>{}));await Ga(e.swRegistration)}catch(e){throw Ia.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function Ga(e){return new Promise(((t,n)=>{const r=setTimeout((()=>n(new Error(`Service worker not registered after ${ia} ms`))),ia);const i=e.installing||e.waiting;if(e.active){clearTimeout(r);t()}else if(i){i.onstatechange=e=>{if(e.target?.state==="activated"){i.onstatechange=null;clearTimeout(r);t()}}}else{clearTimeout(r);n(new Error("No incoming service worker found."))}}))}async function Ja(e,t){if(!t&&!e.swRegistration){await qa(e)}if(!t&&!!e.swRegistration){return}if(!(t instanceof ServiceWorkerRegistration)){throw Ia.create("invalid-sw-registration")}e.swRegistration=t}async function Xa(e,t){if(!!t){e.vapidKey=t}else if(!e.vapidKey){e.vapidKey=Zo}}async function Qa(e,t){if(!navigator){throw Ia.create("only-available-in-window")}if(Notification.permission==="default"){await Notification.requestPermission()}if(Notification.permission!=="granted"){throw Ia.create("permission-blocked")}await Xa(e,t?.vapidKey);await Ja(e,t?.serviceWorkerRegistration);return Na(e)}async function Za(e,t,n){const r=Ya(t);const i=await e.firebaseDependencies.analyticsProvider.get();i.logEvent(r,{message_id:n[ea],message_name:n[ta],message_time:n[na],message_device_time:Math.floor(Date.now()/1e3)})}function Ya(e){switch(e){case aa.NOTIFICATION_CLICKED:return"notification_open";case aa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function es(e,t){const n=t.data;if(!n.isFirebaseMessaging){return}if(e.onMessageHandler&&n.messageType===aa.PUSH_RECEIVED){if(typeof e.onMessageHandler==="function"){e.onMessageHandler(Ba(n))}else{e.onMessageHandler.next(Ba(n))}}const r=n.data;if(za(r)&&r[ra]==="1"){await Za(e,n.messageType,r)}}const ts="@firebase/messaging";const ns="0.12.23";const rs=e=>{const t=new Va(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));navigator.serviceWorker.addEventListener("message",(e=>es(t,e)));return t};const is=e=>{const t=e.getProvider("messaging").getImmediate();const n={getToken:e=>Qa(t,e)};return n};function os(){dn(new Ue("messaging",rs,"PUBLIC"));dn(new Ue("messaging-internal",is,"PRIVATE"));Pn(ts,ns);Pn(ts,ns,"esm2020")}async function as(){try{await validateIndexedDBOpenable()}catch(e){return false}return typeof window!=="undefined"&&isIndexedDBAvailable()&&areCookiesEnabled()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}async function ss(e){if(!navigator){throw Ia.create("only-available-in-window")}if(!e.swRegistration){await qa(e)}return Da(e)}function cs(e,t){if(!navigator){throw Ia.create("only-available-in-window")}e.onMessageHandler=t;return()=>{e.onMessageHandler=null}}function us(e=getApp()){as().then((e=>{if(!e){throw Ia.create("unsupported-browser")}}),(e=>{throw Ia.create("indexed-db-unsupported")}));return _getProvider(getModularInstance(e),"messaging").getImmediate()}async function fs(e,t){e=getModularInstance(e);return Qa(e,t)}function ls(e){e=getModularInstance(e);return ss(e)}function ds(e,t){e=getModularInstance(e);return cs(e,t)}os();var hs;(function(e){e["Granted"]="granted";e["Denied"]="denied";e["Default"]="default"})(hs||(hs={}));var ps;(function(e){e["subscribe"]="subscribe";e["updateSubscription"]="update_subscription";e["suspendSubscription"]="suspend_subscription"})(ps||(ps={}));var gs=Object.prototype.hasOwnProperty;function vs(e,t){return typeof e==="object"&&gs.call(e,t)}function bs(e){return function(){var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}if(e){console.info.apply(null,t)}}}var ms=Ps($o.debug);var ws=undefined&&undefined.__assign||function(){ws=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))e[i]=t[i]}return e};return ws.apply(this,arguments)};var ys=undefined&&undefined.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r["throw"](e))}catch(e){o(e)}}function c(e){e.done?n(e.value):i(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))};var _s=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;i=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1];o=a;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(a);break}if(o[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var Ss=function(){return"safari"in window&&"pushNotification"in window.safari};var ks={};function Is(){return"serviceWorker"in window.navigator}function Cs(){return ys(this,void 0,void 0,(function(){return _s(this,(function(e){if(Is()){return[2,navigator.serviceWorker.getRegistrations().then((function(e){return e.find((function(e){var t=e.active,n=e.waiting,r=e.installing;var i=t||n||r;return i&&i.scriptURL.includes("/service-worker.js?browser")}))}))]}console.log("can`t use service worker");return[2,undefined]}))}))}function Es(e){return e.split(" ").join("")}function Ms(e){if(e.allFirebase)return true;var t=e.browser;if(t){var n=e.browsers[t];if(vs(n,"isFirebase")){return n.isFirebase}return false}throw new Error("Invalid config")}function As(e){return ys(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,c,u;return _s(this,(function(f){switch(f.label){case 0:t=e.serverURL,n=e.serverCookiePath,r=e.resourceToken;f.label=1;case 1:f.trys.push([1,9,,10]);return[4,localforage.getItem("_ak_cookie")];case 2:i=f.sent()||"";return[4,fetch(t+n,{method:"post",credentials:"include",headers:i?{"X-Cookie":i}:undefined,body:JSON.stringify({resource_token:r})}).then((function(e){return{body:e.json(),headers:e.headers}}))];case 3:o=f.sent();a={cookie_id:"","X-Cookie":""};s="cookie_id";return[4,o.body];case 4:if(!(s in f.sent()))return[3,6];c=a;return[4,o.body];case 5:c.cookie_id=f.sent().cookie_id;f.label=6;case 6:debug("X-Cookie:",o===null||o===void 0?void 0:o.headers.has("X-Cookie"),o===null||o===void 0?void 0:o.headers.get("X-Cookie"));if(!o.headers.has("X-Cookie"))return[3,8];a["X-Cookie"]=o.headers.get("X-Cookie")||"";if(!a["X-Cookie"])return[3,8];return[4,localforage.setItem("_ak_cookie",a["X-Cookie"])];case 7:f.sent();f.label=8;case 8:if(a["X-Cookie"]||a.cookie_id){return[2,a]}console.error("Invalid response for set cookie:",o.body);return[3,10];case 9:u=f.sent();console.error("Unable to set cookie",u);return[3,10];case 10:return[2,undefined]}}))}))}function Os(e,t){var n=new RegExp(t+"=(\\w*);?","g");var r=Array.from(e.matchAll(n));return r.length?r[0][1]:""}function Ps(e){return function(){var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}if(e){console.info.apply(null,t)}}}function Ts(e){return new(qo())(e,true).query.browser}function Ns(e){if(!e.browser&&"userAgent"in window.navigator){return bowser.getParser(window.navigator.userAgent).getBrowser().name}return undefined}function Ds(e,t){return ys(this,void 0,void 0,(function(){return _s(this,(function(n){switch(n.label){case 0:return[4,localforage.setItem(e+"current_token",t)];case 1:n.sent();return[2]}}))}))}function xs(e){return ys(this,void 0,void 0,(function(){var t;return _s(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,localforage.getItem(e+"current_token")];case 1:return[2,n.sent()];case 2:t=n.sent();console.log("error on getToken",t);return[2,null];case 3:return[2]}}))}))}function Rs(e){if(e===void 0){e=CONFIG.randomPrefix}return ys(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,c;return _s(this,(function(u){switch(u.label){case 0:t=Fs(e);return[4,xs(e)];case 1:n=u.sent();r=Fs(e+"_endpoint_");return[4,xs(e+"_endpoint_")];case 2:i=u.sent();return[4,xs(e+"_keys_")];case 3:o=u.sent();debug("Founded tokens",{tokenLS:t,token:n,endpointLS:r,endpoint:i,keys:o});if(t){js(e)}if(r){js(e+"_endpoint_")}if(!o)return[3,7];u.label=4;case 4:u.trys.push([4,6,,7]);return[4,localforage.removeItem(e+"_keys_current_token")];case 5:u.sent();debug({result:"success"});return[3,7];case 6:a=u.sent();debug({result:"error",error:a});return[3,7];case 7:if(!n)return[3,11];u.label=8;case 8:u.trys.push([8,10,,11]);return[4,localforage.removeItem(e+"current_token")];case 9:u.sent();return[2,{result:"success"}];case 10:s=u.sent();return[2,{result:"error",error:s}];case 11:if(!i)return[3,15];u.label=12;case 12:u.trys.push([12,14,,15]);return[4,localforage.removeItem(e+"_endpoint_")];case 13:u.sent();return[2,{result:"success"}];case 14:c=u.sent();return[2,{result:"error",error:c}];case 15:return[2,{result:"not-found"}]}}))}))}function Fs(e){return localStorage.getItem(e+"current_token")}function js(e){localStorage.removeItem(e+"current_token")}function Bs(e,t){var n,r,i,o,a;return ys(this,void 0,void 0,(function(){var s,c,u,f,l;return _s(this,(function(d){switch(d.label){case 0:return[4,Notification.requestPermission()];case 1:s=d.sent();if(!(s===NotificationPermissionStatus.Granted))return[3,4];return[4,Cs().then((function(e){return e&&e.active?e:undefined}))];case 2:c=d.sent();u=(n=t.data)===null||n===void 0?void 0:n.ak_actions;f=void 0;if(u){try{debug("push firebase parse ak_actions start");f=JSON.parse(u);debug("push firebase parse ak_actions complete")}catch(e){debug("push firebase parse ak_actions error: ",e)}}l={body:(r=t.notification)===null||r===void 0?void 0:r.body,icon:(i=t.notification)===null||i===void 0?void 0:i.icon,image:(o=t.notification)===null||o===void 0?void 0:o.image,data:{click_action:(a=t.fcmOptions)===null||a===void 0?void 0:a.link},actions:f};if(!c)return[3,4];return[4,c.showNotification(e,l)];case 3:d.sent();d.label=4;case 4:return[2]}}))}))}function Ls(e){var t=e.browser,n=e.expirationSWChrome,r=e.swPath;if(t==="Chrome"){var i=n!==0?n:900;return r+"?browser="+t+"&expiration="+Math.floor(Date.now()/(i*1e3))}return r+"?browser="+t}function Ws(){return ys(this,void 0,void 0,(function(){var e,t,n,r;return _s(this,(function(i){switch(i.label){case 0:if(!("showNotification"in ServiceWorkerRegistration.prototype)){console.error("Notifications is not supported");return[2,false]}if(!(Notification.permission!==NotificationPermissionStatus.Denied))return[3,10];if(!("PushManager"in window))return[3,8];debug("getPushServiceWorker","start");return[4,Cs()];case 1:e=i.sent();debug("getPushServiceWorker","complete");debug("serviceWorkerRegistration",e);i.label=2;case 2:i.trys.push([2,6,,7]);debug("serviceWorkerRegistration.pushManager.getSubscription","start");if(!e)return[3,4];return[4,e.pushManager.getSubscription()];case 3:n=i.sent();return[3,5];case 4:n=undefined;i.label=5;case 5:t=n;debug("serviceWorkerRegistration.pushManager.getSubscription","complete");debug("subscription",t);return[2,true];case 6:r=i.sent();console.error("Error on getting subscription data",r);return[2,false];case 7:return[3,9];case 8:console.error("Push-notification is not supported by the browser");return[2,false];case 9:return[3,11];case 10:console.log("User denied notifications");return[2,false];case 11:return[2]}}))}))}function Us(e,t){return ys(this,void 0,void 0,(function(){var n,r,i,o,a,s,c,u;return _s(this,(function(f){switch(f.label){case 0:if(!(Notification.permission===NotificationPermissionStatus.Granted))return[3,24];n=e.browser;switch(n){case"Chrome":return[3,1];case"Firefox":return[3,1];case"Yandex Browser":return[3,1];case"Samsung Internet for Android":return[3,1];case"Opera":return[3,1];case"Safari":return[3,17]}return[3,23];case 1:if(!Is())return[3,15];debug("can use service worker");if(!Ms(e))return[3,12];r=void 0;debug("> getPushServiceWorker","start");f.label=2;case 2:f.trys.push([2,4,,5]);return[4,Cs()];case 3:r=f.sent();debug("< getPushServiceWorker","complete");debug(">> registration",r);return[3,5];case 4:i=f.sent();debug("err get registration",i);return[3,5];case 5:debug("should use firebase");debug("firebase.initializeApp","start");o={appId:e.firebase.appId,apiKey:e.firebase.apiKey,projectId:e.firebase.projectId,messagingSenderId:e.firebase.messagingSenderId,storageBucket:[e.firebase.projectId,e.firebase.bucketSubdomain].join("."),authDomain:[e.firebase.projectId,e.firebase.authSubdomain].join("."),databaseURL:[e.firebase.projectId,e.firebase.dbSubdomain].join(".")};initializeApp(o);debug("firebase.initializeApp","complete");a=getMessaging();if(!r)return[3,7];debug("updateFirebaseToken","start");return[4,qs(e,t)];case 6:f.sent();debug("updateFirebaseToken","complete");f.label=7;case 7:debug("firebase.messaging().getToken","start");s=void 0;f.label=8;case 8:f.trys.push([8,10,,11]);return[4,getToken(a,{serviceWorkerRegistration:r})];case 9:s=f.sent();return[3,11];case 10:c=f.sent();console.error("Error occurred: ",c);return[3,11];case 11:debug("firebase.messaging().getToken","complete");if(s&&!ks[s]){debug("added firebase.messaging().onMessage handler");ks[s]=onMessage(a,(function(e){var t,n;debug("Message received:",e);Bs((n=(t=e.notification)===null||t===void 0?void 0:t.title)!==null&&n!==void 0?n:"",e)}))}return[3,14];case 12:debug("should not use firebase");debug("updateDefaultSubscription","start");return[4,Js(e,t)];case 13:f.sent();debug("updateDefaultSubscription","complete");f.label=14;case 14:return[3,16];case 15:debug("can`t use service worker");console.error("There is no serviceWorker");f.label=16;case 16:return[3,24];case 17:if(!Ss())return[3,20];u=window.safari.pushNotification.permission(e.browsers.Safari.websitePushID).deviceToken;if(!u)return[3,19];return[4,Ds(e.randomPrefix,u)];case 18:f.sent();debug("added token to cache:",u);f.label=19;case 19:return[3,22];case 20:return[4,Gs(e,t)];case 21:f.sent();f.label=22;case 22:return[3,24];case 23:return[2,undefined];case 24:return[2,undefined]}}))}))}function zs(e){return ys(this,void 0,void 0,(function(){var t,n,r,i,o,a;return _s(this,(function(s){switch(s.label){case 0:t=e.browser,n=e.expirationSWChrome,r=e.swPath;debug(" getPushServiceWorker","start");s.label=1;case 1:s.trys.push([1,3,,4]);return[4,Cs()];case 2:i=s.sent();debug(" getPushServiceWorker","complete");debug("registration",i);return[3,4];case 3:o=s.sent();debug("err getPushServiceWorker",o);return[3,4];case 4:debug("navigator.serviceWorker.register","start");return[4,navigator.serviceWorker.register(Ls({browser:t,expirationSWChrome:n,swPath:r}))];case 5:a=s.sent();debug("navigator.serviceWorker.register","complete");debug("serviceWorkerRegistration.update","start");return[4,a.update()];case 6:s.sent();debug("serviceWorkerRegistration.update","complete");debug(a);return[2,a]}}))}))}function Hs(e){return ys(this,void 0,void 0,(function(){var t,n,r,i,o;return _s(this,(function(a){switch(a.label){case 0:t=e.browser,n=e.expirationSWChrome,r=e.swPath;debug("replace service worker",{browser:t,expirationSWChrome:n,swPath:r});if(!(Notification.permission===NotificationPermissionStatus.Granted))return[3,7];debug("Notification permission is granted.");return[4,Cs()];case 1:i=a.sent();console.log("Push SW status: ",Boolean(i));if(!i)return[3,2];debug("service worker is our. Aborting replace service worker.");return[3,6];case 2:debug("navigator.serviceWorker.controller, was cleaned");a.label=3;case 3:a.trys.push([3,5,,6]);debug("registerServiceWorker start");return[4,zs({browser:t,expirationSWChrome:n,swPath:r})];case 4:a.sent();debug(" registerServiceWorker complete");return[3,6];case 5:o=a.sent();debug("err register service worker",o);return[3,6];case 6:return[3,8];case 7:debug("Notification permission is not a granted. Aborting replace service worker.");a.label=8;case 8:return[2]}}))}))}function Ks(e){return ys(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,c,u,f,l,d,h,p,g;return _s(this,(function(v){switch(v.label){case 0:t=e.action,n=e.provider,r=e.subscription,i=e.match,o=e.update,a=e.customData,s=e.resourceToken,c=e.serverURL,u=e.endpointOld,f=e.keysOld,l=e.supOldSubscr,d=e.inexclusive;return[4,localforage.getItem("_ak_cookie")];case 1:h=v.sent()||"";g=CONFIG.serverActionHandlers;switch(t){case"save":p=c+g.save;break;case"delete":p=c+g.delete;break;case"update":p=c+g.update;break;case"suspend":p=c+g.suspend;break;default:throw new Error("Unknown "+t)}return[2,fetch(p,{method:"post",credentials:"include",headers:h?{"X-Cookie":h}:undefined,body:JSON.stringify(ws(ws(ws(ws(ws(ws({},a||{}),{provider:n,endpoint:r.endpoint,keys:r.keys,resource_token:s,match:JSON.stringify(i||{}),update:JSON.stringify(o||{})}),u?{endpoint_old:u}:{}),f?{keys_old:f}:{}),l&&u?{sup_old_subscr:true}:{}),d!==undefined?{inexclusive:d}:{}))}).then((function(e){debug("X-Cookie:",e===null||e===void 0?void 0:e.headers.has("X-Cookie"),e===null||e===void 0?void 0:e.headers.get("X-Cookie"));if(e===null||e===void 0?void 0:e.headers.has("X-Cookie")){localforage.setItem("_ak_cookie",(e===null||e===void 0?void 0:e.headers.get("X-Cookie"))||"")}return e})).catch((function(e){return console.error("Can't post",t,e)}))]}}))}))}function $s(e){return ys(this,void 0,void 0,(function(){var t,n;return _s(this,(function(r){switch(r.label){case 0:t=Fs(e);n=Fs(e+"_endpoint_");if(!t)return[3,2];return[4,Ds(e,t||"")];case 1:r.sent();js(e);return[2,t];case 2:if(!n)return[3,4];return[4,Ds(e+"_endpoint_",n||"")];case 3:r.sent();js(e+"_endpoint_");return[2,t];case 4:return[2,null]}}))}))}function Vs(e,t,n){return ys(this,void 0,void 0,(function(){var r,i,o,a,s,c,u,f;return _s(this,(function(l){switch(l.label){case 0:l.trys.push([0,2,,3]);r=EventType.updateSubscription;i=t.provider,o=t.tokenCached,a=t.token,s=t.keys;c={browser:e.browser||"",provider:i,tokenCached:o,token:a};u={endpoint:a||"",keys:s};debug("fetch subscription","start");return[4,Ks({action:"update",provider:i,subscription:u,match:{},update:{},customData:{},resourceToken:e.resourceToken,serverURL:e.serverURL,endpointOld:o||undefined,supOldSubscr:o?true:undefined})];case 1:l.sent();debug("fetch subscription","complete");debug("emit "+r,c);n.emit(r,c);return[3,3];case 2:f=l.sent();console.error("Unable to update subscription data",f);return[3,3];case 3:return[2]}}))}))}function qs(e,t){return ys(this,void 0,void 0,(function(){var n,r,i,o,a,s,c;return _s(this,(function(u){switch(u.label){case 0:debug("firebase.messaging().getToken","start");debug("> getPushServiceWorker","start");u.label=1;case 1:u.trys.push([1,3,,4]);return[4,Cs()];case 2:n=u.sent();debug("< getPushServiceWorker","complete");debug(">> serviceWorkerRegistration",n);return[3,4];case 3:i=u.sent();debug("err get registration",i);return[3,4];case 4:u.trys.push([4,6,,7]);return[4,getToken(getMessaging(),{serviceWorkerRegistration:n})];case 5:r=u.sent();return[3,7];case 6:o=u.sent();console.error("Error occurred: ",o);return[3,7];case 7:debug("firebase.messaging().getToken","complete",r);debug("get cached token","start");return[4,xs(e.randomPrefix)];case 8:a=u.sent();debug("get cached token","complete",a);if(!(r&&a!==r))return[3,14];debug("New token detected: ",r);u.label=9;case 9:u.trys.push([9,13,,14]);if(!a)return[3,11];s={provider:Es(e.browser||"")+"Firebase",tokenCached:a,token:r};return[4,Vs(e,s,t)];case 10:u.sent();u.label=11;case 11:debug("saving firebase token to cache",r,"start");return[4,Ds(e.randomPrefix,r||"")];case 12:u.sent();debug("saving firebase token to cache",r,"complete");return[3,14];case 13:c=u.sent();console.error("Failed to save firebase token to the cache",c);return[3,14];case 14:return[2]}}))}))}function Gs(e,t){return ys(this,void 0,void 0,(function(){var n,r,i,o,a,s,c,u,f,l;return _s(this,(function(d){switch(d.label){case 0:return[4,Cs()];case 1:n=d.sent();d.label=2;case 2:d.trys.push([2,11,,12]);if(!n){debug("getPushServiceWorker has empty, exit updateSafariPWAToken");return[2]}debug("serviceWorkerRegistration.pushManager.getSubscription","start");return[4,n.pushManager.getSubscription()];case 3:r=d.sent();i=r===null||r===void 0?void 0:r.endpoint;debug("serviceWorkerRegistration.pushManager.getSubscription","complete");debug("subscription",r);s=(a=JSON).parse;return[4,xs(e.randomPrefix+"_keys_")];case 4:o=s.apply(a,[d.sent()||"null"]);return[4,xs(e.randomPrefix)];case 5:c=d.sent();debug("get cached token","complete",c,"and keys",o);if(!(i&&c!==i))return[3,10];debug("New token detected:",i);u=r===null||r===void 0?void 0:r.toJSON().keys;if(!c)return[3,7];f={provider:Es(e.browser||""),tokenCached:c,token:i,keys:u};return[4,Vs(e,f,t)];case 6:d.sent();d.label=7;case 7:debug("saving token to cache",i,"and keys",u,"start");return[4,Ds(e.randomPrefix,i||"")];case 8:d.sent();return[4,Ds(e.randomPrefix+"_keys_",JSON.stringify(u)||"")];case 9:d.sent();debug("saving token to cache",i,"and keys",u,"complete");d.label=10;case 10:return[3,12];case 11:l=d.sent();console.error("Failed to save token and keys to the cache",l);return[3,12];case 12:return[2]}}))}))}function Js(e,t){return ys(this,void 0,void 0,(function(){var n,r,i,o,a;return _s(this,(function(s){switch(s.label){case 0:debug("getPushServiceWorker","start");return[4,Cs()];case 1:n=s.sent();if(!n){debug("getPushServiceWorker has empty, exit updateDefaultSubscription.");return[2]}debug("getPushServiceWorker","complete");debug("serviceWorkerRegistration.pushManager.subscribe","start");return[4,n.pushManager.getSubscription()];case 2:r=s.sent();debug("serviceWorkerRegistration.pushManager.subscribe","complete");debug("get cached endpoint","start");return[4,xs(e.randomPrefix+"_endpoint_")];case 3:i=s.sent();debug("get cached endpoint","complete",i);if(!(r&&i!==r.endpoint))return[3,9];s.label=4;case 4:s.trys.push([4,8,,9]);if(!i)return[3,6];o={provider:Es(e.browser||""),tokenCached:i,token:r.endpoint};return[4,Vs(e,o,t)];case 5:s.sent();s.label=6;case 6:debug("saving subscription endpoint from push manager to cache",r.endpoint,"start");return[4,Ds(e.randomPrefix+"_endpoint_",r.endpoint)];case 7:s.sent();debug("saving subscription endpoint from push manager to cache",r.endpoint,"complete");return[3,9];case 8:a=s.sent();console.error("Failed to save subscription endpoint from push manager to the cache",a);return[3,9];case 9:return[2]}}))}))}var Xs=undefined&&undefined.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r["throw"](e))}catch(e){o(e)}}function c(e){e.done?n(e.value):i(e.value).then(a,s)}c((r=r.apply(e,t||[])).next())}))};var Qs=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;i=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1];o=a;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(a);break}if(o[2])n.ops.pop();n.trys.pop();continue}a=t.call(e,n)}catch(e){a=[6,e];i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};(function(e){var n=t()($o);function r(e){var t=this;var n=e.data?JSON.parse(e.data.json().data.hub_link).ack:"";var r=e.data?JSON.parse(e.data.json().data.hub_link).open:"";e.waitUntil(function(){return Xs(t,void 0,void 0,(function(){var e,t;return Qs(this,(function(i){switch(i.label){case 0:i.trys.push([0,2,,3]);return[4,fetch(n,{method:"get",mode:"no-cors",credentials:"include"})];case 1:i.sent();return[3,3];case 2:e=i.sent();ms("Can't send deliv action ",e);return[3,3];case 3:i.trys.push([3,5,,6]);return[4,fetch(r,{method:"get",mode:"no-cors",credentials:"include"})];case 4:i.sent();return[3,6];case 5:t=i.sent();ms("Can't send open action ",t);return[3,6];case 6:return[2]}}))}))}())}function i(e){ms("background message handler firebase");ms("SW Received push: ");ms(e)}function o(t){var n=this;var r;ms("push safari ios handler");var i=(r=t.data)===null||r===void 0?void 0:r.json();if(i){var o=i.title,a=i.body,s=i.icon,c=i.tag,u=i.data;var f=JSON.parse(u);var l=f.hub_link.ack;var d=f.hub_link.open;ms("event data: ",i);t.waitUntil(function(){return Xs(n,void 0,void 0,(function(){var t,n;return Qs(this,(function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);return[4,fetch(l,{method:"get",mode:"no-cors",credentials:"include"})];case 1:r.sent();return[3,3];case 2:t=r.sent();ms("Can't send deliv action ",t);return[3,3];case 3:r.trys.push([3,5,,6]);return[4,fetch(d,{method:"get",mode:"no-cors",credentials:"include"})];case 4:r.sent();return[3,6];case 5:n=r.sent();ms("Can't send open action ",n);return[3,6];case 6:return[4,e.registration.showNotification(o,{body:a,icon:s,tag:c,data:f})];case 7:r.sent();return[2]}}))}))}())}}function a(t){return Xs(this,void 0,void 0,(function(){var n=this;return Qs(this,(function(r){ms("SW Click: ",t);t.notification.close();t.waitUntil(function(){return Xs(n,void 0,void 0,(function(){var n;return Qs(this,(function(r){switch(r.label){case 0:n=t.notification.data.url;return[4,e.clients.matchAll({type:"window"})];case 1:r.sent();if(!n)return[3,3];return[4,e.clients.openWindow(n)];case 2:r.sent();r.label=3;case 3:return[2]}}))}))}());return[2]}))}))}function s(t){ms("push basic handler");ms("SW Received push: ");ms(t);t.waitUntil(e.registration.pushManager.getSubscription().then((function(t){ms("fetch request");return fetch(n.serverURL+n.serverPushContentPath,{method:"post",credentials:"include",body:JSON.stringify({provider:Es(n.browser||""),endpoint:(t===null||t===void 0?void 0:t.endpoint)||"",resource_token:n.resourceToken})}).then((function(t){ms("fetch response: ",t);if(t.status!==200){throw new Error("Error on getting push content: "+t.status)}return t.json().then((function(t){ms("fetch parse json: ",t);if(t.error){throw new Error("The server returns an error: "+t.error)}var n=t.data.title;var r=t.data.body;var i=t.data.icon;var o=t.data.tag;var a=t.data.data;return e.registration.showNotification(n,{body:r,icon:i,tag:o,data:a})}))})).catch((function(e){console.error("Unable to receive data from server",e)}))})))}function c(t){ms("SW Click: ",t);if(t.notification.tag==="user_visible_auto_notification"||!t.notification.data){return}t.notification.close();t.waitUntil(e.clients.matchAll({type:"window"}).then((function(){var r,i;var o=t.notification.data;var a=(o===null||o===void 0?void 0:o.click_action)||((i=(r=o===null||o===void 0?void 0:o.FCM_MSG)===null||r===void 0?void 0:r.notification)===null||i===void 0?void 0:i.click_action);if(t.action!==""&&typeof t.action==="string"){a=t.action}if(a.indexOf("?provider=")===-1){if(Ms(n)){a=a+"?provider="+Es(n.browser||"")+"Firebase"}else{a=a+"?provider="+Es(n.browser||"")}}ms("click URL: ",a);if(e.clients.openWindow){return e.clients.openWindow(a)}return undefined})))}try{ms("sw: start install handlers");e.addEventListener("install",(function(t){e.skipWaiting()}));n.browser=Ts(e.location.href);if(!n.browser){ms("clickNotificationHandler. Location: ",e.location.href,"getBrowserNameFromURL:",Ts(e.location.href));throw new Error("No browser submitted")}if(Ms(n)){ms("sw: should use firebase");e.addEventListener("push",r);e.addEventListener("notificationclick",c);Cn({appId:n.firebase.appId,apiKey:n.firebase.apiKey,projectId:n.firebase.projectId,messagingSenderId:n.firebase.messagingSenderId,storageBucket:[n.firebase.projectId,n.firebase.bucketSubdomain].join("."),authDomain:[n.firebase.projectId,n.firebase.authSubdomain].join("."),databaseURL:[n.firebase.projectId,n.firebase.dbSubdomain].join(".")});var u=jo();Bo(u,i)}else if(n.browser==="Safari"){ms("sw: setup safari ios handlers");e.addEventListener("push",o);e.addEventListener("notificationclick",a)}else{ms("sw: setup default handlers");e.addEventListener("push",s);e.addEventListener("notificationclick",c)}}catch(e){ms("SW setup error",e)}})(self)})()})();